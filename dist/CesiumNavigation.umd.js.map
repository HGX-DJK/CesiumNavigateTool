{"version":3,"file":"CesiumNavigation.umd.js","sources":["../src/cesium/Cesium.js","../node_modules/core-js/internals/fails.js","../node_modules/core-js/internals/function-bind-native.js","../node_modules/core-js/internals/function-uncurry-this.js","../node_modules/core-js/internals/is-callable.js","../node_modules/core-js/internals/descriptors.js","../node_modules/core-js/internals/global-this.js","../node_modules/core-js/internals/is-object.js","../node_modules/core-js/internals/document-create-element.js","../node_modules/core-js/internals/ie8-dom-define.js","../node_modules/core-js/internals/v8-prototype-define-bug.js","../node_modules/core-js/internals/an-object.js","../node_modules/core-js/internals/function-call.js","../node_modules/core-js/internals/get-built-in.js","../node_modules/core-js/internals/object-is-prototype-of.js","../node_modules/core-js/internals/environment-user-agent.js","../node_modules/core-js/internals/environment-v8-version.js","../node_modules/core-js/internals/symbol-constructor-detection.js","../node_modules/core-js/internals/use-symbol-as-uid.js","../node_modules/core-js/internals/is-symbol.js","../node_modules/core-js/internals/try-to-string.js","../node_modules/core-js/internals/a-callable.js","../node_modules/core-js/internals/is-null-or-undefined.js","../node_modules/core-js/internals/get-method.js","../node_modules/core-js/internals/ordinary-to-primitive.js","../node_modules/core-js/internals/is-pure.js","../node_modules/core-js/internals/define-global-property.js","../node_modules/core-js/internals/shared-store.js","../node_modules/core-js/internals/shared.js","../node_modules/core-js/internals/require-object-coercible.js","../node_modules/core-js/internals/to-object.js","../node_modules/core-js/internals/has-own-property.js","../node_modules/core-js/internals/uid.js","../node_modules/core-js/internals/well-known-symbol.js","../node_modules/core-js/internals/to-primitive.js","../node_modules/core-js/internals/to-property-key.js","../node_modules/core-js/internals/object-define-property.js","../node_modules/core-js/internals/function-name.js","../node_modules/core-js/internals/inspect-source.js","../node_modules/core-js/internals/weak-map-basic-detection.js","../node_modules/core-js/internals/create-property-descriptor.js","../node_modules/core-js/internals/create-non-enumerable-property.js","../node_modules/core-js/internals/shared-key.js","../node_modules/core-js/internals/hidden-keys.js","../node_modules/core-js/internals/internal-state.js","../node_modules/core-js/internals/make-built-in.js","../node_modules/core-js/internals/define-built-in.js","../node_modules/core-js/modules/es.date.to-string.js","../node_modules/core-js/internals/to-string-tag-support.js","../node_modules/core-js/internals/classof-raw.js","../node_modules/core-js/internals/classof.js","../node_modules/core-js/internals/object-to-string.js","../node_modules/core-js/modules/es.object.to-string.js","../node_modules/core-js/internals/to-string.js","../node_modules/core-js/internals/regexp-flags.js","../node_modules/core-js/internals/regexp-get-flags.js","../node_modules/core-js/modules/es.regexp.to-string.js","../src/core/createFragmentFromTemplate.js","../src/core/loadView.js","../src/viewModels/DistanceLegendViewModel.js","../node_modules/core-js/internals/define-built-in-accessor.js","../node_modules/core-js/modules/es.function.name.js","../node_modules/core-js/internals/object-property-is-enumerable.js","../node_modules/core-js/internals/indexed-object.js","../node_modules/core-js/internals/to-indexed-object.js","../node_modules/core-js/internals/object-get-own-property-descriptor.js","../node_modules/core-js/internals/math-trunc.js","../node_modules/core-js/internals/to-integer-or-infinity.js","../node_modules/core-js/internals/to-absolute-index.js","../node_modules/core-js/internals/to-length.js","../node_modules/core-js/internals/length-of-array-like.js","../node_modules/core-js/internals/array-includes.js","../node_modules/core-js/internals/object-keys-internal.js","../node_modules/core-js/internals/enum-bug-keys.js","../node_modules/core-js/internals/object-get-own-property-names.js","../node_modules/core-js/internals/object-get-own-property-symbols.js","../node_modules/core-js/internals/own-keys.js","../node_modules/core-js/internals/copy-constructor-properties.js","../node_modules/core-js/internals/is-forced.js","../node_modules/core-js/internals/export.js","../node_modules/core-js/internals/object-keys.js","../node_modules/core-js/internals/object-define-properties.js","../node_modules/core-js/internals/html.js","../node_modules/core-js/internals/object-create.js","../node_modules/core-js/modules/es.object.create.js","../src/svgPaths/svgReset.js","../node_modules/core-js/modules/es.object.define-properties.js","../src/viewModels/UserInterfaceControl.js","../src/viewModels/NavigationControl.js","../src/viewModels/ResetViewNavigationControl.js","../src/core/Utils.js","../src/viewModels/ZoomNavigationControl.js","../src/svgPaths/svgCompassOuterRing.js","../src/svgPaths/svgCompassGyro.js","../src/svgPaths/svgCompassRotationMarker.js","../src/viewModels/NavigationViewModel.js","../src/CesiumNavigation.js"],"sourcesContent":["export default window.Cesium","'use strict';\nmodule.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-function-prototype-bind -- safe\n  var test = (function () { /* empty */ }).bind();\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return typeof test != 'function' || test.hasOwnProperty('prototype');\n});\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar FunctionPrototype = Function.prototype;\nvar call = FunctionPrototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nvar uncurryThisWithBind = NATIVE_BIND && FunctionPrototype.bind.bind(call, call);\n\nmodule.exports = NATIVE_BIND ? uncurryThisWithBind : function (fn) {\n  return function () {\n    return call.apply(fn, arguments);\n  };\n};\n","'use strict';\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot\nvar documentAll = typeof document == 'object' && document.all;\n\n// `IsCallable` abstract operation\n// https://tc39.es/ecma262/#sec-iscallable\n// eslint-disable-next-line unicorn/no-typeof-undefined -- required for testing\nmodule.exports = typeof documentAll == 'undefined' && documentAll !== undefined ? function (argument) {\n  return typeof argument == 'function' || argument === documentAll;\n} : function (argument) {\n  return typeof argument == 'function';\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] !== 7;\n});\n","'use strict';\nvar check = function (it) {\n  return it && it.Math === Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  check(typeof this == 'object' && this) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","'use strict';\nvar isCallable = require('../internals/is-callable');\n\nmodule.exports = function (it) {\n  return typeof it == 'object' ? it !== null : isCallable(it);\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\n\nvar document = globalThis.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thanks to IE8 for its funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a !== 7;\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\n\n// V8 ~ Chrome 36-\n// https://bugs.chromium.org/p/v8/issues/detail?id=3334\nmodule.exports = DESCRIPTORS && fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty(function () { /* empty */ }, 'prototype', {\n    value: 42,\n    writable: false\n  }).prototype !== 42;\n});\n","'use strict';\nvar isObject = require('../internals/is-object');\n\nvar $String = String;\nvar $TypeError = TypeError;\n\n// `Assert: Type(argument) is Object`\nmodule.exports = function (argument) {\n  if (isObject(argument)) return argument;\n  throw new $TypeError($String(argument) + ' is not an object');\n};\n","'use strict';\nvar NATIVE_BIND = require('../internals/function-bind-native');\n\nvar call = Function.prototype.call;\n// eslint-disable-next-line es/no-function-prototype-bind -- safe\nmodule.exports = NATIVE_BIND ? call.bind(call) : function () {\n  return call.apply(call, arguments);\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar aFunction = function (argument) {\n  return isCallable(argument) ? argument : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(globalThis[namespace]) : globalThis[namespace] && globalThis[namespace][method];\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nmodule.exports = uncurryThis({}.isPrototypeOf);\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\nvar navigator = globalThis.navigator;\nvar userAgent = navigator && navigator.userAgent;\n\nmodule.exports = userAgent ? String(userAgent) : '';\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar userAgent = require('../internals/environment-user-agent');\n\nvar process = globalThis.process;\nvar Deno = globalThis.Deno;\nvar versions = process && process.versions || Deno && Deno.version;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  // in old Chrome, versions of V8 isn't V8 = Chrome / 10\n  // but their correct versions are not interesting for us\n  version = match[0] > 0 && match[0] < 4 ? 1 : +(match[0] + match[1]);\n}\n\n// BrowserFS NodeJS `process` polyfill incorrectly set `.v8` to `0.0`\n// so check `userAgent` even if `.v8` exists, but 0\nif (!version && userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = +match[1];\n  }\n}\n\nmodule.exports = version;\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/environment-v8-version');\nvar fails = require('../internals/fails');\nvar globalThis = require('../internals/global-this');\n\nvar $String = globalThis.String;\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol('symbol detection');\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  // nb: Do not call `String` directly to avoid this being optimized out to `symbol+''` which will,\n  // of course, fail.\n  return !$String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","'use strict';\n/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\n\nmodule.exports = NATIVE_SYMBOL &&\n  !Symbol.sham &&\n  typeof Symbol.iterator == 'symbol';\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar $Object = Object;\n\nmodule.exports = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  var $Symbol = getBuiltIn('Symbol');\n  return isCallable($Symbol) && isPrototypeOf($Symbol.prototype, $Object(it));\n};\n","'use strict';\nvar $String = String;\n\nmodule.exports = function (argument) {\n  try {\n    return $String(argument);\n  } catch (error) {\n    return 'Object';\n  }\n};\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar tryToString = require('../internals/try-to-string');\n\nvar $TypeError = TypeError;\n\n// `Assert: IsCallable(argument) is true`\nmodule.exports = function (argument) {\n  if (isCallable(argument)) return argument;\n  throw new $TypeError(tryToString(argument) + ' is not a function');\n};\n","'use strict';\n// we can't use just `it == null` since of `document.all` special case\n// https://tc39.es/ecma262/#sec-IsHTMLDDA-internal-slot-aec\nmodule.exports = function (it) {\n  return it === null || it === undefined;\n};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\n// `GetMethod` abstract operation\n// https://tc39.es/ecma262/#sec-getmethod\nmodule.exports = function (V, P) {\n  var func = V[P];\n  return isNullOrUndefined(func) ? undefined : aCallable(func);\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\n\nvar $TypeError = TypeError;\n\n// `OrdinaryToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-ordinarytoprimitive\nmodule.exports = function (input, pref) {\n  var fn, val;\n  if (pref === 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  if (isCallable(fn = input.valueOf) && !isObject(val = call(fn, input))) return val;\n  if (pref !== 'string' && isCallable(fn = input.toString) && !isObject(val = call(fn, input))) return val;\n  throw new $TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\nmodule.exports = false;\n","'use strict';\nvar globalThis = require('../internals/global-this');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\n\nmodule.exports = function (key, value) {\n  try {\n    defineProperty(globalThis, key, { value: value, configurable: true, writable: true });\n  } catch (error) {\n    globalThis[key] = value;\n  } return value;\n};\n","'use strict';\nvar IS_PURE = require('../internals/is-pure');\nvar globalThis = require('../internals/global-this');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nvar SHARED = '__core-js_shared__';\nvar store = module.exports = globalThis[SHARED] || defineGlobalProperty(SHARED, {});\n\n(store.versions || (store.versions = [])).push({\n  version: '3.42.0',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2014-2025 Denis Pushkarev (zloirock.ru)',\n  license: 'https://github.com/zloirock/core-js/blob/v3.42.0/LICENSE',\n  source: 'https://github.com/zloirock/core-js'\n});\n","'use strict';\nvar store = require('../internals/shared-store');\n\nmodule.exports = function (key, value) {\n  return store[key] || (store[key] = value || {});\n};\n","'use strict';\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\n\nvar $TypeError = TypeError;\n\n// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (isNullOrUndefined(it)) throw new $TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","'use strict';\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar $Object = Object;\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return $Object(requireObjectCoercible(argument));\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toObject = require('../internals/to-object');\n\nvar hasOwnProperty = uncurryThis({}.hasOwnProperty);\n\n// `HasOwnProperty` abstract operation\n// https://tc39.es/ecma262/#sec-hasownproperty\n// eslint-disable-next-line es/no-object-hasown -- safe\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty(toObject(it), key);\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar id = 0;\nvar postfix = Math.random();\nvar toString = uncurryThis(1.0.toString);\n\nmodule.exports = function (key) {\n  return 'Symbol(' + (key === undefined ? '' : key) + ')_' + toString(++id + postfix, 36);\n};\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar shared = require('../internals/shared');\nvar hasOwn = require('../internals/has-own-property');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/symbol-constructor-detection');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar Symbol = globalThis.Symbol;\nvar WellKnownSymbolsStore = shared('wks');\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol['for'] || Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!hasOwn(WellKnownSymbolsStore, name)) {\n    WellKnownSymbolsStore[name] = NATIVE_SYMBOL && hasOwn(Symbol, name)\n      ? Symbol[name]\n      : createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar isObject = require('../internals/is-object');\nvar isSymbol = require('../internals/is-symbol');\nvar getMethod = require('../internals/get-method');\nvar ordinaryToPrimitive = require('../internals/ordinary-to-primitive');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar $TypeError = TypeError;\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\nmodule.exports = function (input, pref) {\n  if (!isObject(input) || isSymbol(input)) return input;\n  var exoticToPrim = getMethod(input, TO_PRIMITIVE);\n  var result;\n  if (exoticToPrim) {\n    if (pref === undefined) pref = 'default';\n    result = call(exoticToPrim, input, pref);\n    if (!isObject(result) || isSymbol(result)) return result;\n    throw new $TypeError(\"Can't convert object to primitive value\");\n  }\n  if (pref === undefined) pref = 'number';\n  return ordinaryToPrimitive(input, pref);\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar isSymbol = require('../internals/is-symbol');\n\n// `ToPropertyKey` abstract operation\n// https://tc39.es/ecma262/#sec-topropertykey\nmodule.exports = function (argument) {\n  var key = toPrimitive(argument, 'string');\n  return isSymbol(key) ? key : key + '';\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar anObject = require('../internals/an-object');\nvar toPropertyKey = require('../internals/to-property-key');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar ENUMERABLE = 'enumerable';\nvar CONFIGURABLE = 'configurable';\nvar WRITABLE = 'writable';\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? V8_PROTOTYPE_DEFINE_BUG ? function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (typeof O === 'function' && P === 'prototype' && 'value' in Attributes && WRITABLE in Attributes && !Attributes[WRITABLE]) {\n    var current = $getOwnPropertyDescriptor(O, P);\n    if (current && current[WRITABLE]) {\n      O[P] = Attributes.value;\n      Attributes = {\n        configurable: CONFIGURABLE in Attributes ? Attributes[CONFIGURABLE] : current[CONFIGURABLE],\n        enumerable: ENUMERABLE in Attributes ? Attributes[ENUMERABLE] : current[ENUMERABLE],\n        writable: false\n      };\n    }\n  } return $defineProperty(O, P, Attributes);\n} : $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPropertyKey(P);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw new $TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar hasOwn = require('../internals/has-own-property');\n\nvar FunctionPrototype = Function.prototype;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getDescriptor = DESCRIPTORS && Object.getOwnPropertyDescriptor;\n\nvar EXISTS = hasOwn(FunctionPrototype, 'name');\n// additional protection from minified / mangled / dropped function names\nvar PROPER = EXISTS && (function something() { /* empty */ }).name === 'something';\nvar CONFIGURABLE = EXISTS && (!DESCRIPTORS || (DESCRIPTORS && getDescriptor(FunctionPrototype, 'name').configurable));\n\nmodule.exports = {\n  EXISTS: EXISTS,\n  PROPER: PROPER,\n  CONFIGURABLE: CONFIGURABLE\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar isCallable = require('../internals/is-callable');\nvar store = require('../internals/shared-store');\n\nvar functionToString = uncurryThis(Function.toString);\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (!isCallable(store.inspectSource)) {\n  store.inspectSource = function (it) {\n    return functionToString(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar isCallable = require('../internals/is-callable');\n\nvar WeakMap = globalThis.WeakMap;\n\nmodule.exports = isCallable(WeakMap) && /native code/.test(String(WeakMap));\n","'use strict';\nmodule.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","'use strict';\nvar shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","'use strict';\nmodule.exports = {};\n","'use strict';\nvar NATIVE_WEAK_MAP = require('../internals/weak-map-basic-detection');\nvar globalThis = require('../internals/global-this');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar hasOwn = require('../internals/has-own-property');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar TypeError = globalThis.TypeError;\nvar WeakMap = globalThis.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw new TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  /* eslint-disable no-self-assign -- prototype methods protection */\n  store.get = store.get;\n  store.has = store.has;\n  store.set = store.set;\n  /* eslint-enable no-self-assign -- prototype methods protection */\n  set = function (it, metadata) {\n    if (store.has(it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    store.set(it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return store.get(it) || {};\n  };\n  has = function (it) {\n    return store.has(it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (hasOwn(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return hasOwn(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return hasOwn(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\nvar hasOwn = require('../internals/has-own-property');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar CONFIGURABLE_FUNCTION_NAME = require('../internals/function-name').CONFIGURABLE;\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar enforceInternalState = InternalStateModule.enforce;\nvar getInternalState = InternalStateModule.get;\nvar $String = String;\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar defineProperty = Object.defineProperty;\nvar stringSlice = uncurryThis(''.slice);\nvar replace = uncurryThis(''.replace);\nvar join = uncurryThis([].join);\n\nvar CONFIGURABLE_LENGTH = DESCRIPTORS && !fails(function () {\n  return defineProperty(function () { /* empty */ }, 'length', { value: 8 }).length !== 8;\n});\n\nvar TEMPLATE = String(String).split('String');\n\nvar makeBuiltIn = module.exports = function (value, name, options) {\n  if (stringSlice($String(name), 0, 7) === 'Symbol(') {\n    name = '[' + replace($String(name), /^Symbol\\(([^)]*)\\).*$/, '$1') + ']';\n  }\n  if (options && options.getter) name = 'get ' + name;\n  if (options && options.setter) name = 'set ' + name;\n  if (!hasOwn(value, 'name') || (CONFIGURABLE_FUNCTION_NAME && value.name !== name)) {\n    if (DESCRIPTORS) defineProperty(value, 'name', { value: name, configurable: true });\n    else value.name = name;\n  }\n  if (CONFIGURABLE_LENGTH && options && hasOwn(options, 'arity') && value.length !== options.arity) {\n    defineProperty(value, 'length', { value: options.arity });\n  }\n  try {\n    if (options && hasOwn(options, 'constructor') && options.constructor) {\n      if (DESCRIPTORS) defineProperty(value, 'prototype', { writable: false });\n    // in V8 ~ Chrome 53, prototypes of some methods, like `Array.prototype.values`, are non-writable\n    } else if (value.prototype) value.prototype = undefined;\n  } catch (error) { /* empty */ }\n  var state = enforceInternalState(value);\n  if (!hasOwn(state, 'source')) {\n    state.source = join(TEMPLATE, typeof name == 'string' ? name : '');\n  } return value;\n};\n\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n// eslint-disable-next-line no-extend-native -- required\nFunction.prototype.toString = makeBuiltIn(function toString() {\n  return isCallable(this) && getInternalState(this).source || inspectSource(this);\n}, 'toString');\n","'use strict';\nvar isCallable = require('../internals/is-callable');\nvar definePropertyModule = require('../internals/object-define-property');\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\n\nmodule.exports = function (O, key, value, options) {\n  if (!options) options = {};\n  var simple = options.enumerable;\n  var name = options.name !== undefined ? options.name : key;\n  if (isCallable(value)) makeBuiltIn(value, name, options);\n  if (options.global) {\n    if (simple) O[key] = value;\n    else defineGlobalProperty(key, value);\n  } else {\n    try {\n      if (!options.unsafe) delete O[key];\n      else if (O[key]) simple = true;\n    } catch (error) { /* empty */ }\n    if (simple) O[key] = value;\n    else definePropertyModule.f(O, key, {\n      value: value,\n      enumerable: false,\n      configurable: !options.nonConfigurable,\n      writable: !options.nonWritable\n    });\n  } return O;\n};\n","'use strict';\n// TODO: Remove from `core-js@4`\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltIn = require('../internals/define-built-in');\n\nvar DatePrototype = Date.prototype;\nvar INVALID_DATE = 'Invalid Date';\nvar TO_STRING = 'toString';\nvar nativeDateToString = uncurryThis(DatePrototype[TO_STRING]);\nvar thisTimeValue = uncurryThis(DatePrototype.getTime);\n\n// `Date.prototype.toString` method\n// https://tc39.es/ecma262/#sec-date.prototype.tostring\nif (String(new Date(NaN)) !== INVALID_DATE) {\n  defineBuiltIn(DatePrototype, TO_STRING, function toString() {\n    var value = thisTimeValue(this);\n    // eslint-disable-next-line no-self-compare -- NaN check\n    return value === value ? nativeDateToString(this) : INVALID_DATE;\n  });\n}\n","'use strict';\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\n\nvar toString = uncurryThis({}.toString);\nvar stringSlice = uncurryThis(''.slice);\n\nmodule.exports = function (it) {\n  return stringSlice(toString(it), 8, -1);\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar isCallable = require('../internals/is-callable');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar $Object = Object;\n\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) === 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = $Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) === 'Object' && isCallable(O.callee) ? 'Arguments' : result;\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  defineBuiltIn(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar classof = require('../internals/classof');\n\nvar $String = String;\n\nmodule.exports = function (argument) {\n  if (classof(argument) === 'Symbol') throw new TypeError('Cannot convert a Symbol value to a string');\n  return $String(argument);\n};\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.hasIndices) result += 'd';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.unicodeSets) result += 'v';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar call = require('../internals/function-call');\nvar hasOwn = require('../internals/has-own-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar regExpFlags = require('../internals/regexp-flags');\n\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (R) {\n  var flags = R.flags;\n  return flags === undefined && !('flags' in RegExpPrototype) && !hasOwn(R, 'flags') && isPrototypeOf(RegExpPrototype, R)\n    ? call(regExpFlags, R) : flags;\n};\n","'use strict';\nvar PROPER_FUNCTION_NAME = require('../internals/function-name').PROPER;\nvar defineBuiltIn = require('../internals/define-built-in');\nvar anObject = require('../internals/an-object');\nvar $toString = require('../internals/to-string');\nvar fails = require('../internals/fails');\nvar getRegExpFlags = require('../internals/regexp-get-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) !== '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = PROPER_FUNCTION_NAME && nativeToString.name !== TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  defineBuiltIn(RegExpPrototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var pattern = $toString(R.source);\n    var flags = $toString(getRegExpFlags(R));\n    return '/' + pattern + '/' + flags;\n  }, { unsafe: true });\n}\n","\nconst createFragmentFromTemplate = function (htmlString) {\n  var holder = document.createElement('div')\n  holder.innerHTML = htmlString\n  var fragment = document.createDocumentFragment()\n  while (holder.firstChild) {\n    fragment.appendChild(holder.firstChild)\n  }\n\n  return fragment\n}\n\nexport default createFragmentFromTemplate\n","/* eslint-disable no-unused-vars */\nimport Cesium from '../cesium/Cesium'\nimport createFragmentFromTemplate from './createFragmentFromTemplate'\nvar getElement = Cesium.getElement\nvar Knockout = Cesium.knockout\nvar loadView = function (htmlString, container, viewModel) {\n  container = getElement(container)\n  var fragment = createFragmentFromTemplate(htmlString)\n  var nodes = []\n  var i\n  for (i = 0; i < fragment.childNodes.length; ++i) {\n    nodes.push(fragment.childNodes[i])\n  };\n  container.appendChild(fragment);\n  for (i = 0; i < nodes.length; ++i) {\n    var node = nodes[i]\n    if (node.nodeType === 1 || node.nodeType === 8) {\n      Knockout.applyBindings(viewModel, node)\n    }\n  };\n  return nodes\n}\n\nexport default loadView\n","/* eslint-disable no-unused-vars */\nimport Cesium from '../cesium/Cesium'\nimport loadView from '../core/loadView'\nvar defined = Cesium.defined\nvar DeveloperError = Cesium.DeveloperError\nvar EllipsoidGeodesic = Cesium.EllipsoidGeodesic\nvar Cartesian2 = Cesium.Cartesian2\nvar getTimestamp = Cesium.getTimestamp\nvar EventHelper = Cesium.EventHelper\nvar Knockout = Cesium.knockout\n\nvar DistanceLegendViewModel = function (options) {\n  if (!defined(options) || !defined(options.terria)) {\n    throw new DeveloperError('options.terria is required.')\n  }\n\n  this.terria = options.terria\n  this._removeSubscription = undefined\n  this._lastLegendUpdate = undefined\n  this.eventHelper = new EventHelper()\n\n  this.distanceLabel = undefined\n  this.barWidth = undefined\n\n  this.enableDistanceLegend = (defined(options.enableDistanceLegend)) ? options.enableDistanceLegend : true\n\n  Knockout.track(this, ['distanceLabel', 'barWidth'])\n\n  this.eventHelper.add(this.terria.afterWidgetChanged, function () {\n    if (defined(this._removeSubscription)) {\n      this._removeSubscription()\n      this._removeSubscription = undefined\n    }\n  }, this)\n  //        this.terria.beforeWidgetChanged.addEventListener(function () {\n  //            if (defined(this._removeSubscription)) {\n  //                this._removeSubscription();\n  //                this._removeSubscription = undefined;\n  //            }\n  //        }, this);\n\n  var that = this\n\n  function addUpdateSubscription () {\n    if (defined(that.terria)) {\n      var scene = that.terria.scene\n      that._removeSubscription = scene.postRender.addEventListener(function () {\n        updateDistanceLegendCesium(this, scene)\n      }, that)\n    }\n  }\n\n  addUpdateSubscription()\n  this.eventHelper.add(this.terria.afterWidgetChanged, function () {\n    addUpdateSubscription()\n  }, this)\n  // this.terria.afterWidgetChanged.addEventListener(function() {\n  //    addUpdateSubscription();\n  // }, this);\n}\n\nDistanceLegendViewModel.prototype.destroy = function () {\n  this.eventHelper.removeAll()\n}\n\nDistanceLegendViewModel.prototype.show = function (container) {\n  var testing\n  if (this.enableDistanceLegend) {\n    testing = '<div class=\"distance-legend\" data-bind=\"visible: distanceLabel && barWidth\">' +\n      '<div class=\"distance-legend-label\" data-bind=\"text: distanceLabel\"></div>' +\n      '<div class=\"distance-legend-scale-bar\" data-bind=\"style: { width: barWidth + \\'px\\', left: (5 + (125 - barWidth) / 2) + \\'px\\' }\"></div>' +\n      '</div>'\n  } else {\n    testing = '<div class=\"distance-legend\"  style=\"display: none;\" data-bind=\"visible: distanceLabel && barWidth\">' +\n      '<div class=\"distance-legend-label\"  data-bind=\"text: distanceLabel\"></div>' +\n      '<div class=\"distance-legend-scale-bar\"  data-bind=\"style: { width: barWidth + \\'px\\', left: (5 + (125 - barWidth) / 2) + \\'px\\' }\"></div>' +\n      '</div>'\n  }\n  loadView(testing, container, this)\n}\n\nDistanceLegendViewModel.create = function (options) {\n  var result = new DistanceLegendViewModel(options)\n  result.show(options.container)\n  return result\n}\n\nvar geodesic = new EllipsoidGeodesic()\n\nvar distances = [\n  1, 2, 3, 5,\n  10, 20, 30, 50,\n  100, 200, 300, 500,\n  1000, 2000, 3000, 5000,\n  10000, 20000, 30000, 50000,\n  100000, 200000, 300000, 500000,\n  1000000, 2000000, 3000000, 5000000,\n  10000000, 20000000, 30000000, 50000000]\n\nfunction updateDistanceLegendCesium (viewModel, scene) {\n  if (!viewModel.enableDistanceLegend) {\n    viewModel.barWidth = undefined\n    viewModel.distanceLabel = undefined\n    return\n  }\n  var now = getTimestamp()\n  if (now < viewModel._lastLegendUpdate + 250) {\n    return\n  }\n\n  viewModel._lastLegendUpdate = now\n\n  // Find the distance between two pixels at the bottom center of the screen.\n  var width = scene.canvas.clientWidth\n  var height = scene.canvas.clientHeight\n\n  var left = scene.camera.getPickRay(new Cartesian2((width / 2) | 0, height - 1))\n  var right = scene.camera.getPickRay(new Cartesian2(1 + (width / 2) | 0, height - 1))\n\n  var globe = scene.globe\n  var leftPosition = globe.pick(left, scene)\n  var rightPosition = globe.pick(right, scene)\n\n  if (!defined(leftPosition) || !defined(rightPosition)) {\n    viewModel.barWidth = undefined\n    viewModel.distanceLabel = undefined\n    return\n  }\n\n  var leftCartographic = globe.ellipsoid.cartesianToCartographic(leftPosition)\n  var rightCartographic = globe.ellipsoid.cartesianToCartographic(rightPosition)\n\n  geodesic.setEndPoints(leftCartographic, rightCartographic)\n  var pixelDistance = geodesic.surfaceDistance\n\n  // Find the first distance that makes the scale bar less than 100 pixels.\n  var maxBarWidth = 100\n  var distance\n  for (var i = distances.length - 1; !defined(distance) && i >= 0; --i) {\n    if (distances[i] / pixelDistance < maxBarWidth) {\n      distance = distances[i]\n    }\n  }\n\n  if (defined(distance)) {\n    var label\n    if (distance >= 1000) {\n      label = (distance / 1000).toString() + ' km'\n    } else {\n      label = distance.toString() + ' m'\n    }\n\n    viewModel.barWidth = (distance / pixelDistance) | 0\n    viewModel.distanceLabel = label\n  } else {\n    viewModel.barWidth = undefined\n    viewModel.distanceLabel = undefined\n  }\n}\n\nexport default DistanceLegendViewModel\n","'use strict';\nvar makeBuiltIn = require('../internals/make-built-in');\nvar defineProperty = require('../internals/object-define-property');\n\nmodule.exports = function (target, name, descriptor) {\n  if (descriptor.get) makeBuiltIn(descriptor.get, name, { getter: true });\n  if (descriptor.set) makeBuiltIn(descriptor.set, name, { setter: true });\n  return defineProperty.f(target, name, descriptor);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineBuiltInAccessor = require('../internals/define-built-in-accessor');\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineBuiltInAccessor(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar $Object = Object;\nvar split = uncurryThis(''.split);\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !$Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) === 'String' ? split(it, '') : $Object(it);\n} : $Object;\n","'use strict';\n// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar call = require('../internals/function-call');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPropertyKey = require('../internals/to-property-key');\nvar hasOwn = require('../internals/has-own-property');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPropertyKey(P);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (hasOwn(O, P)) return createPropertyDescriptor(!call(propertyIsEnumerableModule.f, O, P), O[P]);\n};\n","'use strict';\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.es/ecma262/#sec-math.trunc\n// eslint-disable-next-line es/no-math-trunc -- safe\nmodule.exports = Math.trunc || function trunc(x) {\n  var n = +x;\n  return (n > 0 ? floor : ceil)(n);\n};\n","'use strict';\nvar trunc = require('../internals/math-trunc');\n\n// `ToIntegerOrInfinity` abstract operation\n// https://tc39.es/ecma262/#sec-tointegerorinfinity\nmodule.exports = function (argument) {\n  var number = +argument;\n  // eslint-disable-next-line no-self-compare -- NaN check\n  return number !== number || number === 0 ? 0 : trunc(number);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toIntegerOrInfinity(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","'use strict';\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  var len = toIntegerOrInfinity(argument);\n  return len > 0 ? min(len, 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","'use strict';\nvar toLength = require('../internals/to-length');\n\n// `LengthOfArrayLike` abstract operation\n// https://tc39.es/ecma262/#sec-lengthofarraylike\nmodule.exports = function (obj) {\n  return toLength(obj.length);\n};\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = lengthOfArrayLike(O);\n    if (length === 0) return !IS_INCLUDES && -1;\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el !== el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value !== value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar push = uncurryThis([].push);\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !hasOwn(hiddenKeys, key) && hasOwn(O, key) && push(result, key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (hasOwn(O, key = names[i++])) {\n    ~indexOf(result, key) || push(result, key);\n  }\n  return result;\n};\n","'use strict';\n// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","'use strict';\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\nvar concat = uncurryThis([].concat);\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? concat(keys, getOwnPropertySymbols(it)) : keys;\n};\n","'use strict';\nvar hasOwn = require('../internals/has-own-property');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source, exceptions) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!hasOwn(target, key) && !(exceptions && hasOwn(exceptions, key))) {\n      defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n    }\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar isCallable = require('../internals/is-callable');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value === POLYFILL ? true\n    : value === NATIVE ? false\n    : isCallable(detection) ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\nvar globalThis = require('../internals/global-this');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar defineBuiltIn = require('../internals/define-built-in');\nvar defineGlobalProperty = require('../internals/define-global-property');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target         - name of the target object\n  options.global         - target is the global object\n  options.stat           - export as static methods of target\n  options.proto          - export as prototype methods of target\n  options.real           - real prototype method for the `pure` version\n  options.forced         - export even if the native feature is available\n  options.bind           - bind methods to the target, required for the `pure` version\n  options.wrap           - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe         - use the simple assignment of property instead of delete + defineProperty\n  options.sham           - add a flag to not completely full polyfills\n  options.enumerable     - export as enumerable property\n  options.dontCallGetSet - prevent calling a getter on target\n  options.name           - the .name of the function if it does not match the key\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = globalThis;\n  } else if (STATIC) {\n    target = globalThis[TARGET] || defineGlobalProperty(TARGET, {});\n  } else {\n    target = globalThis[TARGET] && globalThis[TARGET].prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.dontCallGetSet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty == typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    defineBuiltIn(target, key, sourceProperty, options);\n  }\n};\n","'use strict';\nvar internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar V8_PROTOTYPE_DEFINE_BUG = require('../internals/v8-prototype-define-bug');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nexports.f = DESCRIPTORS && !V8_PROTOTYPE_DEFINE_BUG ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var props = toIndexedObject(Properties);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], props[key]);\n  return O;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","'use strict';\n/* global ActiveXObject -- old IE, WSH */\nvar anObject = require('../internals/an-object');\nvar definePropertiesModule = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  // eslint-disable-next-line no-useless-assignment -- avoid memory leak\n  activeXDocument = null;\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    activeXDocument = new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = typeof document != 'undefined'\n    ? document.domain && activeXDocument\n      ? NullProtoObjectViaActiveX(activeXDocument) // old IE\n      : NullProtoObjectViaIFrame()\n    : NullProtoObjectViaActiveX(activeXDocument); // WSH\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n// eslint-disable-next-line es/no-object-create -- safe\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : definePropertiesModule.f(result, Properties);\n};\n","'use strict';\n// TODO: Remove from `core-js@4`\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar create = require('../internals/object-create');\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  create: create\n});\n","var svgReset = 'M 7.5,0 C 3.375,0 0,3.375 0,7.5 0,11.625 3.375,15 7.5,15 c 3.46875,0 6.375,-2.4375 7.21875,-5.625 l -1.96875,0 C 12,11.53125 9.9375,13.125 7.5,13.125 4.40625,13.125 1.875,10.59375 1.875,7.5 1.875,4.40625 4.40625,1.875 7.5,1.875 c 1.59375,0 2.90625,0.65625 3.9375,1.6875 l -3,3 6.5625,0 L 15,0 12.75,2.25 C 11.4375,0.84375 9.5625,0 7.5,0 z'\n\nexport default svgReset\n","'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar defineProperties = require('../internals/object-define-properties').f;\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\n$({ target: 'Object', stat: true, forced: Object.defineProperties !== defineProperties, sham: !DESCRIPTORS }, {\n  defineProperties: defineProperties\n});\n","import Cesium from '../cesium/Cesium'\n\nvar defined = Cesium.defined\nvar DeveloperError = Cesium.DeveloperError\nvar Knockout = Cesium.knockout\n/**\n * The view-model for a control in the user interface\n *\n * @alias UserInterfaceControl\n * @constructor\n * @abstract\n *\n * @param {Terria} terria The Terria instance.\n */\nvar UserInterfaceControl = function (terria) {\n  if (!defined(terria)) {\n    throw new DeveloperError('terria is required')\n  }\n\n  this._terria = terria\n\n  /**\n   * Gets or sets the name of the control which is set as the controls title.\n   * This property is observable.\n   * @type {String}\n   */\n  this.name = 'Unnamed Control'\n\n  /**\n   * Gets or sets the text to be displayed in the UI control.\n   * This property is observable.\n   * @type {String}\n   */\n  this.text = undefined\n\n  /**\n   * Gets or sets the svg icon of the control.  This property is observable.\n   * @type {Object}\n   */\n  this.svgIcon = undefined\n\n  /**\n   * Gets or sets the height of the svg icon.  This property is observable.\n   * @type {Integer}\n   */\n  this.svgHeight = undefined\n\n  /**\n   * Gets or sets the width of the svg icon.  This property is observable.\n   * @type {Integer}\n   */\n  this.svgWidth = undefined\n\n  /**\n   * Gets or sets the CSS class of the control. This property is observable.\n   * @type {String}\n   */\n  this.cssClass = undefined\n\n  /**\n   * Gets or sets the property describing whether or not the control is in the active state.\n   * This property is observable.\n   * @type {Boolean}\n   */\n  this.isActive = false\n\n  Knockout.track(this, ['name', 'svgIcon', 'svgHeight', 'svgWidth', 'cssClass', 'isActive'])\n}\n\nObject.defineProperties(UserInterfaceControl.prototype, {\n  /**\n   * Gets the Terria instance.\n   * @memberOf UserInterfaceControl.prototype\n   * @type {Terria}\n   */\n   terria: {\n    get: function () {\n      return this._terria\n    }\n  },\n  /**\n   * Gets a value indicating whether this button has text associated with it.\n   * @type {Object}\n   */\n  hasText: {\n    get: function () {\n      return defined(this.text) && typeof this.text === 'string'\n    }\n  }\n\n})\n\n/**\n * When implemented in a derived class, performs an action when the user clicks\n * on this control.\n * @abstract\n * @protected\n */\nUserInterfaceControl.prototype.activate = function () {\n  throw new DeveloperError('activate must be implemented in the derived class.')\n}\n\nexport default UserInterfaceControl\n","import UserInterfaceControl from './UserInterfaceControl'\n/**\n * The view-model for a control in the navigation control tool bar\n *\n * @alias NavigationControl\n * @constructor\n * @abstract\n *\n * @param {Terria} terria The Terria instance.\n */\nvar NavigationControl = function (terria) {\n  UserInterfaceControl.apply(this, arguments)\n}\n\nNavigationControl.prototype = Object.create(UserInterfaceControl.prototype)\n\nexport default NavigationControl\n","\nimport Cesium from '../cesium/Cesium'\nimport svgReset from '../svgPaths/svgReset'\nimport NavigationControl from './NavigationControl'\n\nvar defined = Cesium.defined\nvar Camera = Cesium.Camera\nvar Rectangle = Cesium.Rectangle\nvar Cartographic = Cesium.Cartographic\n/**\n * The model for a zoom in control in the navigation control tool bar\n *\n * @alias ResetViewNavigationControl\n * @constructor\n * @abstract\n *\n * @param {Terria} terria The Terria instance.\n */\nvar ResetViewNavigationControl = function (terria) {\n  NavigationControl.apply(this, arguments)\n\n  /**\n   * Gets or sets the name of the control which is set as the control's title.\n   * This property is observable.\n   * @type {String}\n   */\n  this.name = '重置视图'\n  this.navigationLocked = false\n\n  /**\n   * Gets or sets the svg icon of the control.  This property is observable.\n   * @type {Object}\n   */\n  this.svgIcon = svgReset\n\n  /**\n   * Gets or sets the height of the svg icon.  This property is observable.\n   * @type {Integer}\n   */\n  this.svgHeight = 15\n\n  /**\n   * Gets or sets the width of the svg icon.  This property is observable.\n   * @type {Integer}\n   */\n  this.svgWidth = 15\n\n  /**\n   * Gets or sets the CSS class of the control. This property is observable.\n   * @type {String}\n   */\n  this.cssClass = 'navigation-control-icon-reset'\n}\n\nResetViewNavigationControl.prototype = Object.create(NavigationControl.prototype)\n\nResetViewNavigationControl.prototype.setNavigationLocked = function (locked) {\n  this.navigationLocked = locked\n}\n\nResetViewNavigationControl.prototype.resetView = function () {\n  // this.terria.analytics.logEvent('navigation', 'click', 'reset');\n  if (this.navigationLocked) {\n    return\n  }\n  var scene = this.terria.scene\n\n  var sscc = scene.screenSpaceCameraController\n  if (!sscc.enableInputs) {\n    return\n  }\n\n  this.isActive = true\n\n  var camera = scene.camera\n\n  if (defined(this.terria.trackedEntity)) {\n    // when tracking do not reset to default view but to default view of tracked entity\n    var trackedEntity = this.terria.trackedEntity\n    this.terria.trackedEntity = undefined\n    this.terria.trackedEntity = trackedEntity\n  } else {\n    // reset to a default position or view defined in the options\n    if (this.terria.options.defaultResetView) {\n      if (this.terria.options.defaultResetView && this.terria.options.defaultResetView instanceof Cartographic) {\n        camera.flyTo({\n          destination: scene.globe.ellipsoid.cartographicToCartesian(this.terria.options.defaultResetView)\n        })\n      } else if (this.terria.options.defaultResetView && this.terria.options.defaultResetView instanceof Rectangle) {\n        try {\n          Rectangle.validate(this.terria.options.defaultResetView)\n          camera.flyTo({\n            destination: this.terria.options.defaultResetView,\n            orientation: {\n              heading: Cesium.Math.toRadians(5.729578)\n            }\n          })\n        } catch (e) {\n          console.log('Cesium-navigation/ResetViewNavigationControl:   options.defaultResetView Cesium rectangle is  invalid!')\n        }\n      }\n    } else if (typeof camera.flyHome === 'function') {\n      camera.flyHome(1)\n    } else {\n      camera.flyTo({'destination': Camera.DEFAULT_VIEW_RECTANGLE, 'duration': 1})\n    }\n  }\n  this.isActive = false\n}\n\n/**\n * When implemented in a derived class, performs an action when the user clicks\n * on this control\n * @abstract\n * @protected\n */\nResetViewNavigationControl.prototype.activate = function () {\n  this.resetView()\n}\n\nexport default ResetViewNavigationControl\n","/* eslint-disable no-unused-vars */\nimport Cesium from '../cesium/Cesium'\n\nvar defined = Cesium.defined\nvar Ray = Cesium.Ray\nvar Cartesian3 = Cesium.Cartesian3\nvar Cartographic = Cesium.Cartographic\nvar ReferenceFrame = Cesium.ReferenceFrame\nvar SceneMode = Cesium.SceneMode\n\nvar Utils = {}\n\nvar unprojectedScratch = new Cartographic()\nvar rayScratch = new Ray()\n\n/**\n * gets the focus point of the camera\n * @param {Viewer|Widget} terria The terria\n * @param {boolean} inWorldCoordinates true to get the focus in world coordinates, otherwise get it in projection-specific map coordinates, in meters.\n * @param {Cartesian3} [result] The object in which the result will be stored.\n * @return {Cartesian3} The modified result parameter, a new instance if none was provided or undefined if there is no focus point.\n */\nUtils.getCameraFocus = function (terria, inWorldCoordinates, result) {\n  var scene = terria.scene\n  var camera = scene.camera\n\n  if (scene.mode === SceneMode.MORPHING) {\n    return undefined\n  }\n\n  if (!defined(result)) {\n    result = new Cartesian3()\n  }\n\n  // TODO bug when tracking: if entity moves the current position should be used and not only the one when starting orbiting/rotating\n  // TODO bug when tracking: reset should reset to default view of tracked entity\n\n  if (defined(terria.trackedEntity)) {\n    result = terria.trackedEntity.position.getValue(terria.clock.currentTime, result)\n  } else {\n    rayScratch.origin = camera.positionWC\n    rayScratch.direction = camera.directionWC\n    result = scene.globe.pick(rayScratch, scene, result)\n  }\n\n  if (!defined(result)) {\n    return undefined\n  }\n\n  if (scene.mode === SceneMode.SCENE2D || scene.mode === SceneMode.COLUMBUS_VIEW) {\n    result = camera.worldToCameraCoordinatesPoint(result, result)\n\n    if (inWorldCoordinates) {\n      result = scene.globe.ellipsoid.cartographicToCartesian(scene.mapProjection.unproject(result, unprojectedScratch), result)\n    }\n  } else {\n    if (!inWorldCoordinates) {\n      result = camera.worldToCameraCoordinatesPoint(result, result)\n    }\n  }\n\n  return result\n}\nexport default Utils\n","import Cesium from '../cesium/Cesium'\nimport NavigationControl from './NavigationControl'\nimport Utils from '../core/Utils'\nvar defined = Cesium.defined\nvar Ray = Cesium.Ray\nvar IntersectionTests = Cesium.IntersectionTests\nvar Cartesian3 = Cesium.Cartesian3\nvar SceneMode = Cesium.SceneMode\n\n/**\n * The model for a zoom in control in the navigation control tool bar\n *\n * @alias ZoomOutNavigationControl\n * @constructor\n * @abstract\n *\n * @param {Terria} terria The Terria instance.\n * @param {boolean} zoomIn is used for zooming in (true) or out (false)\n */\nvar ZoomNavigationControl = function (terria, zoomIn) {\n  NavigationControl.apply(this, arguments)\n\n  /**\n   * Gets or sets the name of the control which is set as the control's title.\n   * This property is observable.\n   * @type {String}\n   */\n  this.name = 'Zoom ' + (zoomIn ? 'In' : 'Out')\n\n  /**\n   * Gets or sets the text to be displayed in the nav control. Controls that\n   * have text do not display the svgIcon.\n   * This property is observable.\n   * @type {String}\n   */\n  this.text = zoomIn ? '+' : '-'\n\n  /**\n   * Gets or sets the CSS class of the control. This property is observable.\n   * @type {String}\n   */\n  this.cssClass = 'navigation-control-icon-zoom-' + (zoomIn ? 'in' : 'out')\n\n  this.relativeAmount = 2\n\n  if (zoomIn) {\n    // this ensures that zooming in is the inverse of zooming out and vice versa\n    // e.g. the camera position remains when zooming in and out\n    this.relativeAmount = 1 / this.relativeAmount\n  }\n}\n\nZoomNavigationControl.prototype.relativeAmount = 1\n\nZoomNavigationControl.prototype = Object.create(NavigationControl.prototype)\n\n/**\n * When implemented in a derived class, performs an action when the user clicks\n * on this control\n * @abstract\n * @protected\n */\nZoomNavigationControl.prototype.activate = function () {\n  this.zoom(this.relativeAmount)\n}\n\nvar cartesian3Scratch = new Cartesian3()\n\nZoomNavigationControl.prototype.zoom = function (relativeAmount) {\n  // this.terria.analytics.logEvent('navigation', 'click', 'zoomIn');\n\n  this.isActive = true\n\n  if (defined(this.terria)) {\n    var scene = this.terria.scene\n\n    var sscc = scene.screenSpaceCameraController\n    // do not zoom if it is disabled\n    if (!sscc.enableInputs || !sscc.enableZoom) {\n      return\n    }\n    // TODO\n    //            if(scene.mode == SceneMode.COLUMBUS_VIEW && !sscc.enableTranslate) {\n    //                return;\n    //            }\n\n    var camera = scene.camera\n    var orientation\n\n    switch (scene.mode) {\n      case SceneMode.MORPHING:\n        break\n      case SceneMode.SCENE2D:\n        camera.zoomIn(camera.positionCartographic.height * (1 - this.relativeAmount))\n        break\n      default:\n        var focus\n\n        if (defined(this.terria.trackedEntity)) {\n          focus = new Cartesian3()\n        } else {\n          focus = Utils.getCameraFocus(this.terria, false)\n        }\n\n        if (!defined(focus)) {\n          // Camera direction is not pointing at the globe, so use the ellipsoid horizon point as\n          // the focal point.\n          var ray = new Ray(camera.worldToCameraCoordinatesPoint(scene.globe.ellipsoid.cartographicToCartesian(camera.positionCartographic)), camera.directionWC)\n          focus = IntersectionTests.grazingAltitudeLocation(ray, scene.globe.ellipsoid)\n\n          orientation = {\n            heading: camera.heading,\n            pitch: camera.pitch,\n            roll: camera.roll\n          }\n        } else {\n          orientation = {\n            direction: camera.direction,\n            up: camera.up\n          }\n        }\n\n        var direction = Cartesian3.subtract(camera.position, focus, cartesian3Scratch)\n        var movementVector = Cartesian3.multiplyByScalar(direction, relativeAmount, direction)\n        var endPosition = Cartesian3.add(focus, movementVector, focus)\n\n        if (defined(this.terria.trackedEntity) || scene.mode === SceneMode.COLUMBUS_VIEW) {\n          // sometimes flyTo does not work (jumps to wrong position) so just set the position without any animation\n          // do not use flyTo when tracking an entity because during animatiuon the position of the entity may change\n          camera.position = endPosition\n        } else {\n          camera.flyTo({\n            destination: endPosition,\n            orientation: orientation,\n            duration: 0.5,\n            convert: false\n          })\n        }\n    }\n  }\n\n  // this.terria.notifyRepaintRequired();\n  this.isActive = false\n}\n\nexport default ZoomNavigationControl\n","\nvar svgCompassOuterRing = 'm 66.5625,0 0,15.15625 3.71875,0 0,-10.40625 5.5,10.40625 4.375,0 0,-15.15625 -3.71875,0 0,10.40625 L 70.9375,0 66.5625,0 z M 72.5,20.21875 c -28.867432,0 -52.28125,23.407738 -52.28125,52.28125 0,28.87351 23.413818,52.3125 52.28125,52.3125 28.86743,0 52.28125,-23.43899 52.28125,-52.3125 0,-28.873512 -23.41382,-52.28125 -52.28125,-52.28125 z m 0,1.75 c 13.842515,0 26.368948,5.558092 35.5,14.5625 l -11.03125,11 0.625,0.625 11.03125,-11 c 8.9199,9.108762 14.4375,21.579143 14.4375,35.34375 0,13.764606 -5.5176,26.22729 -14.4375,35.34375 l -11.03125,-11 -0.625,0.625 11.03125,11 c -9.130866,9.01087 -21.658601,14.59375 -35.5,14.59375 -13.801622,0 -26.321058,-5.53481 -35.4375,-14.5 l 11.125,-11.09375 c 6.277989,6.12179 14.857796,9.90625 24.3125,9.90625 19.241896,0 34.875,-15.629154 34.875,-34.875 0,-19.245847 -15.633104,-34.84375 -34.875,-34.84375 -9.454704,0 -18.034511,3.760884 -24.3125,9.875 L 37.0625,36.4375 C 46.179178,27.478444 58.696991,21.96875 72.5,21.96875 z m -0.875,0.84375 0,13.9375 1.75,0 0,-13.9375 -1.75,0 z M 36.46875,37.0625 47.5625,48.15625 C 41.429794,54.436565 37.65625,63.027539 37.65625,72.5 c 0,9.472461 3.773544,18.055746 9.90625,24.34375 L 36.46875,107.9375 c -8.96721,-9.1247 -14.5,-21.624886 -14.5,-35.4375 0,-13.812615 5.53279,-26.320526 14.5,-35.4375 z M 72.5,39.40625 c 18.297686,0 33.125,14.791695 33.125,33.09375 0,18.302054 -14.827314,33.125 -33.125,33.125 -18.297687,0 -33.09375,-14.822946 -33.09375,-33.125 0,-18.302056 14.796063,-33.09375 33.09375,-33.09375 z M 22.84375,71.625 l 0,1.75 13.96875,0 0,-1.75 -13.96875,0 z m 85.5625,0 0,1.75 14,0 0,-1.75 -14,0 z M 71.75,108.25 l 0,13.9375 1.71875,0 0,-13.9375 -1.71875,0 z'\n\nexport default svgCompassOuterRing\n","\nvar svgCompassGyro = 'm 72.71875,54.375 c -0.476702,0 -0.908208,0.245402 -1.21875,0.5625 -0.310542,0.317098 -0.551189,0.701933 -0.78125,1.1875 -0.172018,0.363062 -0.319101,0.791709 -0.46875,1.25 -6.91615,1.075544 -12.313231,6.656514 -13,13.625 -0.327516,0.117495 -0.661877,0.244642 -0.9375,0.375 -0.485434,0.22959 -0.901634,0.471239 -1.21875,0.78125 -0.317116,0.310011 -0.5625,0.742111 -0.5625,1.21875 l 0.03125,0 c 0,0.476639 0.245384,0.877489 0.5625,1.1875 0.317116,0.310011 0.702066,0.58291 1.1875,0.8125 0.35554,0.168155 0.771616,0.32165 1.21875,0.46875 1.370803,6.10004 6.420817,10.834127 12.71875,11.8125 0.146999,0.447079 0.30025,0.863113 0.46875,1.21875 0.230061,0.485567 0.470708,0.870402 0.78125,1.1875 0.310542,0.317098 0.742048,0.5625 1.21875,0.5625 0.476702,0 0.876958,-0.245402 1.1875,-0.5625 0.310542,-0.317098 0.582439,-0.701933 0.8125,-1.1875 0.172018,-0.363062 0.319101,-0.791709 0.46875,-1.25 6.249045,-1.017063 11.256351,-5.7184 12.625,-11.78125 0.447134,-0.1471 0.86321,-0.300595 1.21875,-0.46875 0.485434,-0.22959 0.901633,-0.502489 1.21875,-0.8125 0.317117,-0.310011 0.5625,-0.710861 0.5625,-1.1875 l -0.03125,0 c 0,-0.476639 -0.245383,-0.908739 -0.5625,-1.21875 C 89.901633,71.846239 89.516684,71.60459 89.03125,71.375 88.755626,71.244642 88.456123,71.117495 88.125,71 87.439949,64.078341 82.072807,58.503735 75.21875,57.375 c -0.15044,-0.461669 -0.326927,-0.884711 -0.5,-1.25 -0.230061,-0.485567 -0.501958,-0.870402 -0.8125,-1.1875 -0.310542,-0.317098 -0.710798,-0.5625 -1.1875,-0.5625 z m -0.0625,1.40625 c 0.03595,-0.01283 0.05968,0 0.0625,0 0.0056,0 0.04321,-0.02233 0.1875,0.125 0.144288,0.147334 0.34336,0.447188 0.53125,0.84375 0.06385,0.134761 0.123901,0.309578 0.1875,0.46875 -0.320353,-0.01957 -0.643524,-0.0625 -0.96875,-0.0625 -0.289073,0 -0.558569,0.04702 -0.84375,0.0625 C 71.8761,57.059578 71.936151,56.884761 72,56.75 c 0.18789,-0.396562 0.355712,-0.696416 0.5,-0.84375 0.07214,-0.07367 0.120304,-0.112167 0.15625,-0.125 z m 0,2.40625 c 0.448007,0 0.906196,0.05436 1.34375,0.09375 0.177011,0.592256 0.347655,1.271044 0.5,2.03125 0.475097,2.370753 0.807525,5.463852 0.9375,8.9375 -0.906869,-0.02852 -1.834463,-0.0625 -2.78125,-0.0625 -0.92298,0 -1.802327,0.03537 -2.6875,0.0625 0.138529,-3.473648 0.493653,-6.566747 0.96875,-8.9375 0.154684,-0.771878 0.320019,-1.463985 0.5,-2.0625 0.405568,-0.03377 0.804291,-0.0625 1.21875,-0.0625 z m -2.71875,0.28125 c -0.129732,0.498888 -0.259782,0.987558 -0.375,1.5625 -0.498513,2.487595 -0.838088,5.693299 -0.96875,9.25 -3.21363,0.15162 -6.119596,0.480068 -8.40625,0.9375 -0.682394,0.136509 -1.275579,0.279657 -1.84375,0.4375 0.799068,-6.135482 5.504716,-11.036454 11.59375,-12.1875 z M 75.5,58.5 c 6.043169,1.18408 10.705093,6.052712 11.5,12.15625 -0.569435,-0.155806 -1.200273,-0.302525 -1.875,-0.4375 -2.262525,-0.452605 -5.108535,-0.783809 -8.28125,-0.9375 -0.130662,-3.556701 -0.470237,-6.762405 -0.96875,-9.25 C 75.761959,59.467174 75.626981,58.990925 75.5,58.5 z m -2.84375,12.09375 c 0.959338,0 1.895843,0.03282 2.8125,0.0625 C 75.48165,71.267751 75.5,71.871028 75.5,72.5 c 0,1.228616 -0.01449,2.438313 -0.0625,3.59375 -0.897358,0.0284 -1.811972,0.0625 -2.75,0.0625 -0.927373,0 -1.831062,-0.03473 -2.71875,-0.0625 -0.05109,-1.155437 -0.0625,-2.365134 -0.0625,-3.59375 0,-0.628972 0.01741,-1.232249 0.03125,-1.84375 0.895269,-0.02827 1.783025,-0.0625 2.71875,-0.0625 z M 68.5625,70.6875 c -0.01243,0.60601 -0.03125,1.189946 -0.03125,1.8125 0,1.22431 0.01541,2.407837 0.0625,3.5625 -3.125243,-0.150329 -5.92077,-0.471558 -8.09375,-0.90625 -0.784983,-0.157031 -1.511491,-0.316471 -2.125,-0.5 -0.107878,-0.704096 -0.1875,-1.422089 -0.1875,-2.15625 0,-0.115714 0.02849,-0.228688 0.03125,-0.34375 0.643106,-0.20284 1.389577,-0.390377 2.25,-0.5625 2.166953,-0.433487 4.97905,-0.75541 8.09375,-0.90625 z m 8.3125,0.03125 c 3.075121,0.15271 5.824455,0.446046 7.96875,0.875 0.857478,0.171534 1.630962,0.360416 2.28125,0.5625 0.0027,0.114659 0,0.228443 0,0.34375 0,0.735827 -0.07914,1.450633 -0.1875,2.15625 -0.598568,0.180148 -1.29077,0.34562 -2.0625,0.5 -2.158064,0.431708 -4.932088,0.754666 -8.03125,0.90625 0.04709,-1.154663 0.0625,-2.33819 0.0625,-3.5625 0,-0.611824 -0.01924,-1.185379 -0.03125,-1.78125 z M 57.15625,72.5625 c 0.0023,0.572772 0.06082,1.131112 0.125,1.6875 -0.125327,-0.05123 -0.266577,-0.10497 -0.375,-0.15625 -0.396499,-0.187528 -0.665288,-0.387337 -0.8125,-0.53125 -0.147212,-0.143913 -0.15625,-0.182756 -0.15625,-0.1875 0,-0.0047 -0.02221,-0.07484 0.125,-0.21875 0.147212,-0.143913 0.447251,-0.312472 0.84375,-0.5 0.07123,-0.03369 0.171867,-0.06006 0.25,-0.09375 z m 31.03125,0 c 0.08201,0.03503 0.175941,0.05872 0.25,0.09375 0.396499,0.187528 0.665288,0.356087 0.8125,0.5 0.14725,0.14391 0.15625,0.21405 0.15625,0.21875 0,0.0047 -0.009,0.04359 -0.15625,0.1875 -0.147212,0.143913 -0.416001,0.343722 -0.8125,0.53125 -0.09755,0.04613 -0.233314,0.07889 -0.34375,0.125 0.06214,-0.546289 0.09144,-1.094215 0.09375,-1.65625 z m -29.5,3.625 c 0.479308,0.123125 0.983064,0.234089 1.53125,0.34375 2.301781,0.460458 5.229421,0.787224 8.46875,0.9375 0.167006,2.84339 0.46081,5.433176 0.875,7.5 0.115218,0.574942 0.245268,1.063612 0.375,1.5625 -5.463677,-1.028179 -9.833074,-5.091831 -11.25,-10.34375 z m 27.96875,0 C 85.247546,81.408945 80.919274,85.442932 75.5,86.5 c 0.126981,-0.490925 0.261959,-0.967174 0.375,-1.53125 0.41419,-2.066824 0.707994,-4.65661 0.875,-7.5 3.204493,-0.15162 6.088346,-0.480068 8.375,-0.9375 0.548186,-0.109661 1.051942,-0.220625 1.53125,-0.34375 z M 70.0625,77.53125 c 0.865391,0.02589 1.723666,0.03125 2.625,0.03125 0.912062,0 1.782843,-0.0048 2.65625,-0.03125 -0.165173,2.736408 -0.453252,5.207651 -0.84375,7.15625 -0.152345,0.760206 -0.322989,1.438994 -0.5,2.03125 -0.437447,0.03919 -0.895856,0.0625 -1.34375,0.0625 -0.414943,0 -0.812719,-0.02881 -1.21875,-0.0625 -0.177011,-0.592256 -0.347655,-1.271044 -0.5,-2.03125 -0.390498,-1.948599 -0.700644,-4.419842 -0.875,-7.15625 z m 1.75,10.28125 c 0.284911,0.01545 0.554954,0.03125 0.84375,0.03125 0.325029,0 0.648588,-0.01171 0.96875,-0.03125 -0.05999,0.148763 -0.127309,0.31046 -0.1875,0.4375 -0.18789,0.396562 -0.386962,0.696416 -0.53125,0.84375 -0.144288,0.147334 -0.181857,0.125 -0.1875,0.125 -0.0056,0 -0.07446,0.02233 -0.21875,-0.125 C 72.355712,88.946416 72.18789,88.646562 72,88.25 71.939809,88.12296 71.872486,87.961263 71.8125,87.8125 z'\n\nexport default svgCompassGyro\n","var svgCompassRotationMarker = 'M 72.46875,22.03125 C 59.505873,22.050338 46.521615,27.004287 36.6875,36.875 L 47.84375,47.96875 C 61.521556,34.240041 83.442603,34.227389 97.125,47.90625 l 11.125,-11.125 C 98.401629,26.935424 85.431627,22.012162 72.46875,22.03125 z'\nexport default svgCompassRotationMarker\n","import Cesium from '../cesium/Cesium'\nimport loadView from '../core/loadView'\nimport ResetViewNavigationControl from './ResetViewNavigationControl'\nimport ZoomNavigationControl from './ZoomNavigationControl'\nimport svgCompassOuterRing from '../svgPaths/svgCompassOuterRing'\nimport svgCompassGyro from '../svgPaths/svgCompassGyro'\nimport svgCompassRotationMarker from '../svgPaths/svgCompassRotationMarker'\nimport Utils from '../core/Utils'\nvar defined = Cesium.defined\nvar CesiumMath = Cesium.Math\nvar getTimestamp = Cesium.getTimestamp\nvar EventHelper = Cesium.EventHelper\nvar Transforms = Cesium.Transforms\nvar SceneMode = Cesium.SceneMode\nvar Cartesian2 = Cesium.Cartesian2\nvar Cartesian3 = Cesium.Cartesian3\nvar Matrix4 = Cesium.Matrix4\nvar BoundingSphere = Cesium.BoundingSphere\nvar HeadingPitchRange = Cesium.HeadingPitchRange\nvar Knockout = Cesium.knockout\n\nvar NavigationViewModel = function (options) {\n  this.terria = options.terria\n  this.eventHelper = new EventHelper()\n  this.enableZoomControls = (defined(options.enableZoomControls)) ? options.enableZoomControls : true\n  this.enableCompass = (defined(options.enableCompass)) ? options.enableCompass : true\n  this.navigationLocked = false;\n  this.compassPosition = (defined( this.terria.options.compassPosition)) ? this.terria.options.compassPosition : {\n    bottom:\"12rem\",\n    right:\"0rem\"\n  };\n  this.zoomPosition = (defined(this.terria.options.zoomPosition)) ?  this.terria.options.zoomPosition : {\n      bottom:\"4rem\",\n      right:\"1.5rem\"\n  };\n\n  this.controls = options.controls\n  if (!defined(this.controls)) {\n    this.controls = [\n      new ZoomNavigationControl(this.terria, true),\n      new ResetViewNavigationControl(this.terria),      \n      new ZoomNavigationControl(this.terria, false)\n    ]\n  }\n\n  this.svgCompassOuterRing = svgCompassOuterRing\n  this.svgCompassGyro = svgCompassGyro\n  this.svgCompassRotationMarker = svgCompassRotationMarker\n\n  this.showCompass = defined(this.terria) && this.enableCompass\n  this.heading = this.showCompass ? this.terria.scene.camera.heading : 0.0\n\n  this.isOrbiting = false\n  this.orbitCursorAngle = 0\n  this.orbitCursorOpacity = 0.0\n  this.orbitLastTimestamp = 0\n  this.orbitFrame = undefined\n  this.orbitIsLook = false\n  this.orbitMouseMoveFunction = undefined\n  this.orbitMouseUpFunction = undefined\n\n  this.isRotating = false\n  this.rotateInitialCursorAngle = undefined\n  this.rotateFrame = undefined\n  this.rotateIsLook = false\n  this.rotateMouseMoveFunction = undefined\n  this.rotateMouseUpFunction = undefined\n\n  this._unsubcribeFromPostRender = undefined\n\n  Knockout.track(this, ['controls', 'showCompass', 'heading', 'isOrbiting', 'orbitCursorAngle', 'isRotating'])\n\n  var that = this\n\n  NavigationViewModel.prototype.setNavigationLocked = function (locked) {\n    this.navigationLocked = locked\n    if (this.controls && this.controls.length > 1) {\n      this.controls[1].setNavigationLocked(this.navigationLocked)\n    }\n  }\n\n  function widgetChange () {\n    if (defined(that.terria)) {\n      if (that._unsubcribeFromPostRender) {\n        that._unsubcribeFromPostRender()\n        that._unsubcribeFromPostRender = undefined\n      }\n\n      that.showCompass = true && that.enableCompass\n\n      that._unsubcribeFromPostRender = that.terria.scene.postRender.addEventListener(function () {\n        that.heading = that.terria.scene.camera.heading\n      })\n    } else {\n      if (that._unsubcribeFromPostRender) {\n        that._unsubcribeFromPostRender()\n        that._unsubcribeFromPostRender = undefined\n      }\n      that.showCompass = false\n    }\n  }\n\n  this.eventHelper.add(this.terria.afterWidgetChanged, widgetChange, this)\n\n  widgetChange()\n}\n\nNavigationViewModel.prototype.destroy = function () {\n  this.eventHelper.removeAll()\n}\n\nNavigationViewModel.prototype.show = function (container) {\n  var testing\n  if (this.enableZoomControls && this.enableCompass) {\n    testing = '<div class=\"compass\" title=\"\" data-bind=\"visible: showCompass, event: { mousedown: handleMouseDown, dblclick: handleDoubleClick },style: { top: \\'' + this.compassPosition.top + '\\', left: \\'' + this.compassPosition.left + '\\', bottom: \\'' + this.compassPosition.bottom + '\\', right: \\'' + this.compassPosition.right + '\\' }\">' +\n      '<div class=\"compass-outer-ring-background\"></div>' +\n      ' <div class=\"compass-rotation-marker\" data-bind=\"visible: isOrbiting, style: { transform: \\'rotate(-\\' + orbitCursorAngle + \\'rad)\\', \\'-webkit-transform\\': \\'rotate(-\\' + orbitCursorAngle + \\'rad)\\', opacity: orbitCursorOpacity }, cesiumSvgPath: { path: svgCompassRotationMarker, width: 145, height: 145 }\"></div>' +\n      ' <div class=\"compass-outer-ring\" title=\"\" data-bind=\"style: { transform: \\'rotate(-\\' + heading + \\'rad)\\', \\'-webkit-transform\\': \\'rotate(-\\' + heading + \\'rad)\\' }, cesiumSvgPath: { path: svgCompassOuterRing, width: 145, height: 145 }\"></div>' +\n      ' <div class=\"compass-gyro-background\"></div>' +\n      ' <div class=\"compass-gyro\" data-bind=\"cesiumSvgPath: { path: svgCompassGyro, width: 145, height: 145 }, css: { \\'compass-gyro-active\\': isOrbiting }\"></div>' +\n      '</div>' +\n      '<div class=\"navigation-controls\" data-bind=\"style: { top: \\'' + this.compassPosition.top + '\\', left: \\'' + this.zoomPosition.left + '\\', bottom: \\'' + this.zoomPosition.bottom + '\\', right: \\'' + this.zoomPosition.right + '\\' }\">' +\n      '<!-- ko foreach: controls -->' +\n      '<div data-bind=\"click: activate, attr: { title: $data.name }, css: $root.isLastControl($data) ? \\'navigation-control-last\\' : \\'navigation-control\\' \">' +\n      '   <!-- ko if: $data.hasText -->' +\n      '   <div data-bind=\"text: $data.text, css: $data.isActive ?  \\'navigation-control-icon-active \\' + $data.cssClass : $data.cssClass\"></div>' +\n      '   <!-- /ko -->' +\n      '  <!-- ko ifnot: $data.hasText -->' +\n      '  <div data-bind=\"cesiumSvgPath: { path: $data.svgIcon, width: $data.svgWidth, height: $data.svgHeight }, css: $data.isActive ?  \\'navigation-control-icon-active \\' + $data.cssClass : $data.cssClass\"></div>' +\n      '  <!-- /ko -->' +\n      ' </div>' +\n      ' <!-- /ko -->' +\n      '</div>'\n  } else if (!this.enableZoomControls && this.enableCompass) {\n    testing = '<div class=\"compass\" title=\"\" data-bind=\"visible: showCompass, event: { mousedown: handleMouseDown, dblclick: handleDoubleClick ,style: { top: \\'' + this.compassPosition.top + '\\', left: \\'' + this.compassPosition.left + '\\', bottom: \\'' + this.compassPosition.bottom + '\\', right: \\'' + this.compassPosition.right + '\\'}\">' +\n      '<div class=\"compass-outer-ring-background\"></div>' +\n      ' <div class=\"compass-rotation-marker\" data-bind=\"visible: isOrbiting, style: { transform: \\'rotate(-\\' + orbitCursorAngle + \\'rad)\\', \\'-webkit-transform\\': \\'rotate(-\\' + orbitCursorAngle + \\'rad)\\', opacity: orbitCursorOpacity }, cesiumSvgPath: { path: svgCompassRotationMarker, width: 145, height: 145 }\"></div>' +\n      ' <div class=\"compass-outer-ring\" title=\"\" data-bind=\"style: { transform: \\'rotate(-\\' + heading + \\'rad)\\', \\'-webkit-transform\\': \\'rotate(-\\' + heading + \\'rad)\\' }, cesiumSvgPath: { path: svgCompassOuterRing, width: 145, height: 145 }\"></div>' +\n      ' <div class=\"compass-gyro-background\"></div>' +\n      ' <div class=\"compass-gyro\" data-bind=\"cesiumSvgPath: { path: svgCompassGyro, width: 145, height: 145 }, css: { \\'compass-gyro-active\\': isOrbiting }\"></div>' +\n      '</div>' +\n      '<div class=\"navigation-controls\"  style=\"display: none;\" data-bind=\"style: { top: \\'' + this.compassPosition.top + '\\', left: \\'' + this.zoomPosition.left + '\\', bottom: \\'' + this.zoomPosition.bottom + '\\', right: \\'' + this.zoomPosition.right + '\\' }\">' +\n      '<!-- ko foreach: controls -->' +\n      '<div data-bind=\"click: activate, attr: { title: $data.name }, css: $root.isLastControl($data) ? \\'navigation-control-last\\' : \\'navigation-control\\' \">' +\n      '   <!-- ko if: $data.hasText -->' +\n      '   <div data-bind=\"text: $data.text, css: $data.isActive ?  \\'navigation-control-icon-active \\' + $data.cssClass : $data.cssClass\"></div>' +\n      '   <!-- /ko -->' +\n      '  <!-- ko ifnot: $data.hasText -->' +\n      '  <div data-bind=\"cesiumSvgPath: { path: $data.svgIcon, width: $data.svgWidth, height: $data.svgHeight }, css: $data.isActive ?  \\'navigation-control-icon-active \\' + $data.cssClass : $data.cssClass\"></div>' +\n      '  <!-- /ko -->' +\n      ' </div>' +\n      ' <!-- /ko -->' +\n      '</div>'\n  } else if (this.enableZoomControls && !this.enableCompass) {\n    testing = '<div class=\"compass\"  style=\"display: none;\" title=\"\" data-bind=\"visible: showCompass, event: { mousedown: handleMouseDown, dblclick: handleDoubleClick,style: { top: \\'' + this.compassPosition.top + '\\', left: \\'' + this.compassPosition.left + '\\', bottom: \\'' + this.compassPosition.bottom + '\\', right: \\'' + this.compassPosition.right + '\\'}\">' +\n      '<div class=\"compass-outer-ring-background\"></div>' +\n      ' <div class=\"compass-rotation-marker\" data-bind=\"visible: isOrbiting, style: { transform: \\'rotate(-\\' + orbitCursorAngle + \\'rad)\\', \\'-webkit-transform\\': \\'rotate(-\\' + orbitCursorAngle + \\'rad)\\', opacity: orbitCursorOpacity }, cesiumSvgPath: { path: svgCompassRotationMarker, width: 145, height: 145 }\"></div>' +\n      ' <div class=\"compass-outer-ring\" title=\"\" data-bind=\"style: { transform: \\'rotate(-\\' + heading + \\'rad)\\', \\'-webkit-transform\\': \\'rotate(-\\' + heading + \\'rad)\\' }, cesiumSvgPath: { path: svgCompassOuterRing, width: 145, height: 145 }\"></div>' +\n      ' <div class=\"compass-gyro-background\"></div>' +\n      ' <div class=\"compass-gyro\" data-bind=\"cesiumSvgPath: { path: svgCompassGyro, width: 145, height: 145 }, css: { \\'compass-gyro-active\\': isOrbiting }\"></div>' +\n      '</div>' +\n      '<div class=\"navigation-controls\"  data-bind=\"style: { top: \\'' + this.compassPosition.top + '\\', left: \\'' + this.zoomPosition.left + '\\', bottom: \\'' + this.zoomPosition.bottom + '\\', right: \\'' + this.zoomPosition.right + '\\' }\" >' +\n      '<!-- ko foreach: controls -->' +\n      '<div data-bind=\"click: activate, attr: { title: $data.name }, css: $root.isLastControl($data) ? \\'navigation-control-last\\' : \\'navigation-control\\' \">' +\n      '   <!-- ko if: $data.hasText -->' +\n      '   <div data-bind=\"text: $data.text, css: $data.isActive ?  \\'navigation-control-icon-active \\' + $data.cssClass : $data.cssClass\"></div>' +\n      '   <!-- /ko -->' +\n      '  <!-- ko ifnot: $data.hasText -->' +\n      '  <div data-bind=\"cesiumSvgPath: { path: $data.svgIcon, width: $data.svgWidth, height: $data.svgHeight }, css: $data.isActive ?  \\'navigation-control-icon-active \\' + $data.cssClass : $data.cssClass\"></div>' +\n      '  <!-- /ko -->' +\n      ' </div>' +\n      ' <!-- /ko -->' +\n      '</div>'\n  } else if (!this.enableZoomControls && !this.enableCompass) {\n    testing = '<div class=\"compass\"  style=\"display: none;\" title=\"\" data-bind=\"visible: showCompass, event: { mousedown: handleMouseDown, dblclick: handleDoubleClick,style: { top: \\'' + this.compassPosition.top + '\\', left: \\'' + this.compassPosition.left + '\\', bottom: \\'' + this.compassPosition.bottom + '\\', right: \\'' + this.compassPosition.right + '\\'}\">' +\n      '<div class=\"compass-outer-ring-background\"></div>' +\n      ' <div class=\"compass-rotation-marker\" data-bind=\"visible: isOrbiting, style: { transform: \\'rotate(-\\' + orbitCursorAngle + \\'rad)\\', \\'-webkit-transform\\': \\'rotate(-\\' + orbitCursorAngle + \\'rad)\\', opacity: orbitCursorOpacity }, cesiumSvgPath: { path: svgCompassRotationMarker, width: 145, height: 145 }\"></div>' +\n      ' <div class=\"compass-outer-ring\" title=\"\" data-bind=\"style: { transform: \\'rotate(-\\' + heading + \\'rad)\\', \\'-webkit-transform\\': \\'rotate(-\\' + heading + \\'rad)\\' }, cesiumSvgPath: { path: svgCompassOuterRing, width: 145, height: 145 }\"></div>' +\n      ' <div class=\"compass-gyro-background\"></div>' +\n      ' <div class=\"compass-gyro\" data-bind=\"cesiumSvgPath: { path: svgCompassGyro, width: 145, height: 145 }, css: { \\'compass-gyro-active\\': isOrbiting }\"></div>' +\n      '</div>' +\n      '<div class=\"navigation-controls\"   style=\"display: none;\" data-bind=\"style: { top: \\'' + this.compassPosition.top + '\\', left: \\'' + this.zoomPosition.left + '\\', bottom: \\'' + this.zoomPosition.bottom + '\\', right: \\'' + this.zoomPosition.right + '\\' }\">' +\n      '<!-- ko foreach: controls -->' +\n      '<div data-bind=\"click: activate, attr: { title: $data.name }, css: $root.isLastControl($data) ? \\'navigation-control-last\\' : \\'navigation-control\\' \">' +\n      '   <!-- ko if: $data.hasText -->' +\n      '   <div data-bind=\"text: $data.text, css: $data.isActive ?  \\'navigation-control-icon-active \\' + $data.cssClass : $data.cssClass\"></div>' +\n      '   <!-- /ko -->' +\n      '  <!-- ko ifnot: $data.hasText -->' +\n      '  <div data-bind=\"cesiumSvgPath: { path: $data.svgIcon, width: $data.svgWidth, height: $data.svgHeight }, css: $data.isActive ?  \\'navigation-control-icon-active \\' + $data.cssClass : $data.cssClass\"></div>' +\n      '  <!-- /ko -->' +\n      ' </div>' +\n      ' <!-- /ko -->' +\n      '</div>'\n  }\n  loadView(testing, container, this)\n}\n\n/**\n * Adds a control to this toolbar.\n * @param {NavControl} control The control to add.\n */\nNavigationViewModel.prototype.add = function (control) {\n  this.controls.push(control)\n}\n\n/**\n * Removes a control from this toolbar.\n * @param {NavControl} control The control to remove.\n */\nNavigationViewModel.prototype.remove = function (control) {\n  this.controls.remove(control)\n}\n\n/**\n * Checks if the control given is the last control in the control array.\n * @param {NavControl} control The control to remove.\n */\nNavigationViewModel.prototype.isLastControl = function (control) {\n  return (control === this.controls[this.controls.length - 1])\n}\n\nvar vectorScratch = new Cartesian2()\n\nNavigationViewModel.prototype.handleMouseDown = function (viewModel, e) {\n  var scene = this.terria.scene\n  if (scene.mode === SceneMode.MORPHING) {\n    return true\n  }\n  if (viewModel.navigationLocked) {\n    return true\n  }\n\n  var compassElement = e.currentTarget\n  var compassRectangle = e.currentTarget.getBoundingClientRect()\n  var maxDistance = compassRectangle.width / 2.0\n  var center = new Cartesian2((compassRectangle.right - compassRectangle.left) / 2.0, (compassRectangle.bottom - compassRectangle.top) / 2.0)\n  var clickLocation = new Cartesian2(e.clientX - compassRectangle.left, e.clientY - compassRectangle.top)\n  var vector = Cartesian2.subtract(clickLocation, center, vectorScratch)\n  var distanceFromCenter = Cartesian2.magnitude(vector)\n\n  var distanceFraction = distanceFromCenter / maxDistance\n\n  var nominalTotalRadius = 145\n  var norminalGyroRadius = 50\n\n  if (distanceFraction < norminalGyroRadius / nominalTotalRadius) {\n    orbit(this, compassElement, vector)\n  } else if (distanceFraction < 1.0) {\n    rotate(this, compassElement, vector)\n  } else {\n    return true\n  }\n}\n\nvar oldTransformScratch = new Matrix4()\nvar newTransformScratch = new Matrix4()\nvar centerScratch = new Cartesian3()\n\nNavigationViewModel.prototype.handleDoubleClick = function (viewModel, e) {\n  var scene = viewModel.terria.scene\n  var camera = scene.camera\n\n  var sscc = scene.screenSpaceCameraController\n\n  if (scene.mode === SceneMode.MORPHING || !sscc.enableInputs) {\n    return true\n  }\n  if (viewModel.navigationLocked) {\n    return true\n  }\n  if (scene.mode === SceneMode.COLUMBUS_VIEW && !sscc.enableTranslate) {\n    return\n  }\n  if (scene.mode === SceneMode.SCENE3D || scene.mode === SceneMode.COLUMBUS_VIEW) {\n    if (!sscc.enableLook) {\n      return\n    }\n\n    if (scene.mode === SceneMode.SCENE3D) {\n      if (!sscc.enableRotate) {\n        return\n      }\n    }\n  }\n\n  var center = Utils.getCameraFocus(viewModel.terria, true, centerScratch)\n\n  if (!defined(center)) {\n    // Globe is barely visible, so reset to home view.\n    this.controls[1].resetView()\n    return\n  }\n\n  var cameraPosition = scene.globe.ellipsoid.cartographicToCartesian(camera.positionCartographic, new Cartesian3())\n\n  var surfaceNormal = scene.globe.ellipsoid.geodeticSurfaceNormal(center)\n\n  var focusBoundingSphere = new BoundingSphere(center, 0)\n\n  camera.flyToBoundingSphere(focusBoundingSphere, {\n    offset: new HeadingPitchRange(0,\n      // do not use camera.pitch since the pitch at the center/target is required\n      CesiumMath.PI_OVER_TWO - Cartesian3.angleBetween(\n        surfaceNormal,\n        camera.directionWC\n      ),\n      // camera.distanceToBoundingSphere(focusBoundingSphere)\n      // instead calculate distance manually\n      Cartesian3.distance(cameraPosition, center)\n    ),\n    duration: 1.5\n  })\n}\n\nNavigationViewModel.create = function (options) {\n  var result = new NavigationViewModel(options)\n  result.show(options.container);\n  return result ;\n};\n\nfunction orbit (viewModel, compassElement, cursorVector) {\n  var scene = viewModel.terria.scene\n  var sscc = scene.screenSpaceCameraController\n  // do not orbit if it is disabled\n  if (scene.mode === SceneMode.MORPHING || !sscc.enableInputs) {\n    return\n  }\n  if (viewModel.navigationLocked) {\n    return true\n  };\n  switch (scene.mode) {\n    case SceneMode.COLUMBUS_VIEW:\n      if (sscc.enableLook) {\n        break\n      };\n      if (!sscc.enableTranslate || !sscc.enableTilt) {\n        return\n      };\n      break\n    case SceneMode.SCENE3D:\n      if (sscc.enableLook) {\n        break\n      };\n      if (!sscc.enableTilt || !sscc.enableRotate) {\n        return\n      }\n      break\n    case SceneMode.SCENE2D:\n      if (!sscc.enableTranslate) {\n        return\n      }\n      break\n  }\n\n  // Remove existing event handlers, if any.\n  document.removeEventListener('mousemove', viewModel.orbitMouseMoveFunction, false)\n  document.removeEventListener('mouseup', viewModel.orbitMouseUpFunction, false)\n\n  if (defined(viewModel.orbitTickFunction)) {\n    viewModel.terria.clock.onTick.removeEventListener(viewModel.orbitTickFunction)\n  }\n\n  viewModel.orbitMouseMoveFunction = undefined\n  viewModel.orbitMouseUpFunction = undefined\n  viewModel.orbitTickFunction = undefined\n\n  viewModel.isOrbiting = true\n  viewModel.orbitLastTimestamp = getTimestamp()\n\n  var camera = scene.camera\n\n  if (defined(viewModel.terria.trackedEntity)) {\n    // when tracking an entity simply use that reference frame\n    viewModel.orbitFrame = undefined\n    viewModel.orbitIsLook = false\n  } else {\n    var center = Utils.getCameraFocus(viewModel.terria, true, centerScratch)\n\n    if (!defined(center)) {\n      viewModel.orbitFrame = Transforms.eastNorthUpToFixedFrame(camera.positionWC, scene.globe.ellipsoid, newTransformScratch)\n      viewModel.orbitIsLook = true\n    } else {\n      viewModel.orbitFrame = Transforms.eastNorthUpToFixedFrame(center, scene.globe.ellipsoid, newTransformScratch)\n      viewModel.orbitIsLook = false\n    }\n  }\n\n  viewModel.orbitTickFunction = function (e) {\n    var timestamp = getTimestamp()\n    var deltaT = timestamp - viewModel.orbitLastTimestamp\n    var rate = (viewModel.orbitCursorOpacity - 0.5) * 2.5 / 1000\n    var distance = deltaT * rate\n\n    var angle = viewModel.orbitCursorAngle + CesiumMath.PI_OVER_TWO\n    var x = Math.cos(angle) * distance\n    var y = Math.sin(angle) * distance\n\n    var oldTransform\n\n    if (viewModel.navigationLocked) {\n      return true\n    }\n\n    if (defined(viewModel.orbitFrame)) {\n      oldTransform = Matrix4.clone(camera.transform, oldTransformScratch)\n\n      camera.lookAtTransform(viewModel.orbitFrame)\n    }\n\n    // do not look up/down or rotate in 2D mode\n    if (scene.mode === SceneMode.SCENE2D) {\n      camera.move(new Cartesian3(x, y, 0), Math.max(scene.canvas.clientWidth, scene.canvas.clientHeight) / 100 * camera.positionCartographic.height * distance)\n    } else {\n      if (viewModel.orbitIsLook) {\n        camera.look(Cartesian3.UNIT_Z, -x)\n        camera.look(camera.right, -y)\n      } else {\n        camera.rotateLeft(x)\n        camera.rotateUp(y)\n      }\n    }\n    if (defined(viewModel.orbitFrame)) {\n      camera.lookAtTransform(oldTransform)\n    }\n    // viewModel.terria.cesium.notifyRepaintRequired();\n    viewModel.orbitLastTimestamp = timestamp\n  }\n\n  function updateAngleAndOpacity (vector, compassWidth) {\n    var angle = Math.atan2(-vector.y, vector.x)\n    viewModel.orbitCursorAngle = CesiumMath.zeroToTwoPi(angle - CesiumMath.PI_OVER_TWO)\n    var distance = Cartesian2.magnitude(vector)\n    var maxDistance = compassWidth / 2.0\n    var distanceFraction = Math.min(distance / maxDistance, 1.0)\n    var easedOpacity = 0.5 * distanceFraction * distanceFraction + 0.5\n    viewModel.orbitCursorOpacity = easedOpacity\n    // viewModel.terria.cesium.notifyRepaintRequired();\n  }\n\n  viewModel.orbitMouseMoveFunction = function (e) {\n    var compassRectangle = compassElement.getBoundingClientRect()\n    var center = new Cartesian2((compassRectangle.right - compassRectangle.left) / 2.0, (compassRectangle.bottom - compassRectangle.top) / 2.0)\n    var clickLocation = new Cartesian2(e.clientX - compassRectangle.left, e.clientY - compassRectangle.top)\n    var vector = Cartesian2.subtract(clickLocation, center, vectorScratch)\n    updateAngleAndOpacity(vector, compassRectangle.width)\n  }\n\n  viewModel.orbitMouseUpFunction = function (e) {\n    // TODO: if mouse didn't move, reset view to looking down, north is up?\n    viewModel.isOrbiting = false\n    document.removeEventListener('mousemove', viewModel.orbitMouseMoveFunction, false)\n    document.removeEventListener('mouseup', viewModel.orbitMouseUpFunction, false)\n\n    if (defined(viewModel.orbitTickFunction)) {\n      viewModel.terria.clock.onTick.removeEventListener(viewModel.orbitTickFunction)\n    }\n\n    viewModel.orbitMouseMoveFunction = undefined\n    viewModel.orbitMouseUpFunction = undefined\n    viewModel.orbitTickFunction = undefined\n  }\n\n  document.addEventListener('mousemove', viewModel.orbitMouseMoveFunction, false)\n  document.addEventListener('mouseup', viewModel.orbitMouseUpFunction, false)\n  viewModel.terria.clock.onTick.addEventListener(viewModel.orbitTickFunction)\n\n  updateAngleAndOpacity(cursorVector, compassElement.getBoundingClientRect().width)\n}\n\nfunction rotate (viewModel, compassElement, cursorVector) {\n  var scene = viewModel.terria.scene\n  var camera = scene.camera\n\n  var sscc = scene.screenSpaceCameraController\n  // do not rotate in 2D mode or if rotating is disabled\n  if (scene.mode === SceneMode.MORPHING || scene.mode === SceneMode.SCENE2D || !sscc.enableInputs) {\n    return\n  }\n  if (viewModel.navigationLocked) {\n    return true\n  }\n\n  if (!sscc.enableLook && (scene.mode === SceneMode.COLUMBUS_VIEW || (scene.mode === SceneMode.SCENE3D && !sscc.enableRotate))) {\n    return\n  }\n\n  // Remove existing event handlers, if any.\n  document.removeEventListener('mousemove', viewModel.rotateMouseMoveFunction, false)\n  document.removeEventListener('mouseup', viewModel.rotateMouseUpFunction, false)\n\n  viewModel.rotateMouseMoveFunction = undefined\n  viewModel.rotateMouseUpFunction = undefined\n\n  viewModel.isRotating = true\n  viewModel.rotateInitialCursorAngle = Math.atan2(-cursorVector.y, cursorVector.x)\n\n  if (defined(viewModel.terria.trackedEntity)) {\n    // when tracking an entity simply use that reference frame\n    viewModel.rotateFrame = undefined\n    viewModel.rotateIsLook = false\n  } else {\n    var viewCenter = Utils.getCameraFocus(viewModel.terria, true, centerScratch)\n\n    if (!defined(viewCenter) || (scene.mode === SceneMode.COLUMBUS_VIEW && !sscc.enableLook && !sscc.enableTranslate)) {\n      viewModel.rotateFrame = Transforms.eastNorthUpToFixedFrame(camera.positionWC, scene.globe.ellipsoid, newTransformScratch)\n      viewModel.rotateIsLook = true\n    } else {\n      viewModel.rotateFrame = Transforms.eastNorthUpToFixedFrame(viewCenter, scene.globe.ellipsoid, newTransformScratch)\n      viewModel.rotateIsLook = false\n    }\n  }\n\n  var oldTransform\n  if (defined(viewModel.rotateFrame)) {\n    oldTransform = Matrix4.clone(camera.transform, oldTransformScratch)\n    camera.lookAtTransform(viewModel.rotateFrame)\n  }\n\n  viewModel.rotateInitialCameraAngle = -camera.heading\n\n  if (defined(viewModel.rotateFrame)) {\n    camera.lookAtTransform(oldTransform)\n  }\n\n  viewModel.rotateMouseMoveFunction = function (e) {\n    var compassRectangle = compassElement.getBoundingClientRect()\n    var center = new Cartesian2((compassRectangle.right - compassRectangle.left) / 2.0, (compassRectangle.bottom - compassRectangle.top) / 2.0)\n    var clickLocation = new Cartesian2(e.clientX - compassRectangle.left, e.clientY - compassRectangle.top)\n    var vector = Cartesian2.subtract(clickLocation, center, vectorScratch)\n    var angle = Math.atan2(-vector.y, vector.x)\n\n    var angleDifference = angle - viewModel.rotateInitialCursorAngle\n    var newCameraAngle = CesiumMath.zeroToTwoPi(viewModel.rotateInitialCameraAngle - angleDifference)\n\n    var camera = viewModel.terria.scene.camera\n\n    var oldTransform\n    if (defined(viewModel.rotateFrame)) {\n      oldTransform = Matrix4.clone(camera.transform, oldTransformScratch)\n      camera.lookAtTransform(viewModel.rotateFrame)\n    }\n\n    var currentCameraAngle = -camera.heading\n    camera.rotateRight(newCameraAngle - currentCameraAngle)\n\n    if (defined(viewModel.rotateFrame)) {\n      camera.lookAtTransform(oldTransform)\n    }\n\n    // viewModel.terria.cesium.notifyRepaintRequired();\n  }\n\n  viewModel.rotateMouseUpFunction = function (e) {\n    viewModel.isRotating = false\n    document.removeEventListener('mousemove', viewModel.rotateMouseMoveFunction, false)\n    document.removeEventListener('mouseup', viewModel.rotateMouseUpFunction, false)\n\n    viewModel.rotateMouseMoveFunction = undefined\n    viewModel.rotateMouseUpFunction = undefined\n  }\n\n  document.addEventListener('mousemove', viewModel.rotateMouseMoveFunction, false)\n  document.addEventListener('mouseup', viewModel.rotateMouseUpFunction, false)\n}\n\nexport default NavigationViewModel\n","/* eslint-disable no-unused-vars */\nimport Cesium from './cesium/Cesium'\nimport DistanceLegendViewModel from './viewModels/DistanceLegendViewModel'\nimport NavigationViewModel from './viewModels/NavigationViewModel'\nimport \"./styles/cesium-navigation.less\";\n\nvar defined = Cesium.defined\nvar CesiumEvent = Cesium.Event\nvar DeveloperError = Cesium.DeveloperError\n/**\n * @alias CesiumNavigation\n * @constructor\n *\n * @param {Viewer|CesiumWidget} viewerCesiumWidget The Viewer or CesiumWidget instance\n */\nvar CesiumNavigation = function (viewerCesiumWidget) {\n  initialize.apply(this, arguments)\n  this._onDestroyListeners = []\n}\n\nCesiumNavigation.prototype.distanceLegendViewModel = undefined\nCesiumNavigation.prototype.navigationViewModel = undefined\nCesiumNavigation.prototype.navigationDiv = undefined\nCesiumNavigation.prototype.distanceLegendDiv = undefined\nCesiumNavigation.prototype.terria = undefined\nCesiumNavigation.prototype.container = undefined\nCesiumNavigation.prototype._onDestroyListeners = undefined\nCesiumNavigation.prototype._navigationLocked = false\n\nCesiumNavigation.prototype.setNavigationLocked = function (locked) {\n  this._navigationLocked = locked\n  this.navigationViewModel.setNavigationLocked(this._navigationLocked)\n}\n\nCesiumNavigation.prototype.getNavigationLocked = function () {\n  return this._navigationLocked\n}\n\nCesiumNavigation.prototype.destroy = function () {\n  if (defined(this.navigationViewModel)) {\n    this.navigationViewModel.destroy()\n  }\n  if (defined(this.distanceLegendViewModel)) {\n    this.distanceLegendViewModel.destroy()\n  }\n\n  if (defined(this.navigationDiv)) {\n    this.navigationDiv.parentNode.removeChild(this.navigationDiv)\n  }\n  delete this.navigationDiv\n\n  if (defined(this.distanceLegendDiv)) {\n    this.distanceLegendDiv.parentNode.removeChild(this.distanceLegendDiv)\n  }\n  delete this.distanceLegendDiv\n\n  if (defined(this.container)) {\n    this.container.parentNode.removeChild(this.container)\n  }\n  delete this.container\n\n  for (var i = 0; i < this._onDestroyListeners.length; i++) {\n    this._onDestroyListeners[i]()\n  }\n}\n\nCesiumNavigation.prototype.addOnDestroyListener = function (callback) {\n  if (typeof callback === 'function') {\n    this._onDestroyListeners.push(callback)\n  }\n}\n\n/**\n * @param {Viewer|CesiumWidget} viewerCesiumWidget The Viewer or CesiumWidget instance\n * @param options\n */\nfunction initialize (viewerCesiumWidget, options) {\n  if (!defined(viewerCesiumWidget)) {\n    throw new DeveloperError('CesiumWidget or Viewer is required.')\n  }\n\n  var cesiumWidget = defined(viewerCesiumWidget.cesiumWidget) ? viewerCesiumWidget.cesiumWidget : viewerCesiumWidget\n\n  var container = document.createElement('div')\n  container.className = 'cesium-widget-cesiumNavigationContainer'\n  cesiumWidget.container.appendChild(container)\n\n  this.terria = viewerCesiumWidget\n  this.terria.options = (defined(options)) ? options : {}\n  this.terria.afterWidgetChanged = new CesiumEvent()\n  this.terria.beforeWidgetChanged = new CesiumEvent()\n  this.container = container\n\n  if (!defined(this.terria.options.enableDistanceLegend) || this.terria.options.enableDistanceLegend) {\n      this.distanceLegendDiv = document.createElement('div')\n      container.appendChild(this.distanceLegendDiv)\n      this.distanceLegendDiv.setAttribute('id', 'distanceLegendDiv')\n      this.distanceLegendViewModel = DistanceLegendViewModel.create({\n          container: this.distanceLegendDiv,\n          terria: this.terria,\n          mapElement: container,\n          enableDistanceLegend: true\n      })\n  }\n  if ((!defined(this.terria.options.enableZoomControls) || this.terria.options.enableZoomControls) && (!defined(this.terria.options.enableCompass) || this.terria.options.enableCompass)) {\n      this.navigationDiv = document.createElement('div')\n      this.navigationDiv.setAttribute('id', 'navigationDiv')\n      container.appendChild(this.navigationDiv)\n      this.navigationViewModel = NavigationViewModel.create({\n          container: this.navigationDiv,\n          terria: this.terria,\n          enableZoomControls: true,\n          enableCompass: true\n      })\n  } else if ((defined(this.terria.options.enableZoomControls) && !this.terria.options.enableZoomControls) && (!defined(this.terria.options.enableCompass) || this.terria.options.enableCompass)) {\n      this.navigationDiv = document.createElement('div')\n      this.navigationDiv.setAttribute('id', 'navigationDiv')\n      container.appendChild(this.navigationDiv)\n      this.navigationViewModel = NavigationViewModel.create({\n          container: this.navigationDiv,\n          terria: this.terria,\n          enableZoomControls: false,\n          enableCompass: true\n      })\n  } else if ((!defined(this.terria.options.enableZoomControls) || this.terria.options.enableZoomControls) && (defined(this.terria.options.enableCompass) && !this.terria.options.enableCompass)) {\n      this.navigationDiv = document.createElement('div')\n      this.navigationDiv.setAttribute('id', 'navigationDiv')\n      container.appendChild(this.navigationDiv)\n      this.navigationViewModel = NavigationViewModel.create({\n          container: this.navigationDiv,\n          terria: this.terria,\n          enableZoomControls: true,\n          enableCompass: false\n      })\n  } else if ((defined(this.terria.options.enableZoomControls) && !this.terria.options.enableZoomControls) && (defined(this.terria.options.enableCompass) && !this.terria.options.enableCompass)) {\n    // this.navigationDiv.setAttribute(\"id\", \"navigationDiv\");\n    // container.appendChild(this.navigationDiv);\n    // Create the navigation controls.\n    //            this.navigationViewModel = NavigationViewModel.create({\n    //                container: this.navigationDiv,\n    //                terria: this.terria,\n    //                enableZoomControls: false,\n    //                enableCompass: false\n    //            });\n  }\n}\n\nexport default CesiumNavigation\n"],"names":["window","Cesium","fails","global","this","isCallable","document","globalThis","isObject","createElement","call","userAgent","$String","getBuiltIn","$TypeError","tryToString","isNullOrUndefined","aCallable","defineGlobalProperty","store","$Object","requireObjectCoercible","toObject","Symbol","shared","uid","wellKnownSymbol","isSymbol","getMethod","ordinaryToPrimitive","toPrimitive","anObject","toPropertyKey","FunctionPrototype","EXISTS","CONFIGURABLE","createPropertyDescriptor","TypeError","WeakMap","sharedKey","hiddenKeys","createNonEnumerableProperty","inspectSource","makeBuiltIn","defineBuiltIn","toString","TO_STRING_TAG","classofRaw","classof","TO_STRING","RegExpPrototype","createFragmentFromTemplate","htmlString","holder","innerHTML","fragment","createDocumentFragment","firstChild","appendChild","getElement","Knockout","knockout","loadView","container","viewModel","nodes","i","childNodes","length","push","node","nodeType","applyBindings","defined","DeveloperError","EllipsoidGeodesic","Cartesian2","getTimestamp","EventHelper","DistanceLegendViewModel","options","terria","_removeSubscription","undefined","_lastLegendUpdate","eventHelper","distanceLabel","barWidth","enableDistanceLegend","track","add","afterWidgetChanged","that","addUpdateSubscription","scene","postRender","addEventListener","updateDistanceLegendCesium","prototype","destroy","removeAll","show","testing","create","result","geodesic","distances","now","width","canvas","clientWidth","height","clientHeight","left","camera","getPickRay","right","globe","leftPosition","pick","rightPosition","leftCartographic","ellipsoid","cartesianToCartographic","rightCartographic","setEndPoints","pixelDistance","surfaceDistance","maxBarWidth","distance","label","defineProperty","functionToString","defineBuiltInAccessor","$getOwnPropertyDescriptor","toIndexedObject","toIntegerOrInfinity","min","toLength","lengthOfArrayLike","toAbsoluteIndex","require$$0","enumBugKeys","ownKeys","getOwnPropertyDescriptorModule","getOwnPropertyDescriptor","isForced","copyConstructorProperties","objectKeys","documentCreateElement","html","definePropertiesModule","svgReset","UserInterfaceControl","_terria","name","text","svgIcon","svgHeight","svgWidth","cssClass","isActive","Object","defineProperties","get","hasText","activate","NavigationControl","apply","arguments","Camera","Rectangle","Cartographic","ResetViewNavigationControl","navigationLocked","setNavigationLocked","locked","resetView","sscc","screenSpaceCameraController","enableInputs","trackedEntity","defaultResetView","flyTo","destination","cartographicToCartesian","validate","orientation","heading","Math","toRadians","e","console","log","flyHome","DEFAULT_VIEW_RECTANGLE","Ray","Cartesian3","ReferenceFrame","SceneMode","Utils","unprojectedScratch","rayScratch","getCameraFocus","inWorldCoordinates","mode","MORPHING","position","getValue","clock","currentTime","origin","positionWC","direction","directionWC","SCENE2D","COLUMBUS_VIEW","worldToCameraCoordinatesPoint","mapProjection","unproject","IntersectionTests","ZoomNavigationControl","zoomIn","relativeAmount","zoom","cartesian3Scratch","enableZoom","positionCartographic","focus","ray","grazingAltitudeLocation","pitch","roll","up","subtract","movementVector","multiplyByScalar","endPosition","duration","convert","svgCompassOuterRing","svgCompassGyro","svgCompassRotationMarker","CesiumMath","Transforms","Matrix4","BoundingSphere","HeadingPitchRange","NavigationViewModel","enableZoomControls","enableCompass","compassPosition","bottom","zoomPosition","controls","showCompass","isOrbiting","orbitCursorAngle","orbitCursorOpacity","orbitLastTimestamp","orbitFrame","orbitIsLook","orbitMouseMoveFunction","orbitMouseUpFunction","isRotating","rotateInitialCursorAngle","rotateFrame","rotateIsLook","rotateMouseMoveFunction","rotateMouseUpFunction","_unsubcribeFromPostRender","widgetChange","top","control","remove","isLastControl","vectorScratch","handleMouseDown","compassElement","currentTarget","compassRectangle","getBoundingClientRect","maxDistance","center","clickLocation","clientX","clientY","vector","distanceFromCenter","magnitude","distanceFraction","nominalTotalRadius","norminalGyroRadius","orbit","rotate","oldTransformScratch","newTransformScratch","centerScratch","handleDoubleClick","enableTranslate","SCENE3D","enableLook","enableRotate","cameraPosition","surfaceNormal","geodeticSurfaceNormal","focusBoundingSphere","flyToBoundingSphere","offset","PI_OVER_TWO","angleBetween","cursorVector","enableTilt","removeEventListener","orbitTickFunction","onTick","eastNorthUpToFixedFrame","timestamp","deltaT","rate","angle","x","cos","y","sin","oldTransform","clone","transform","lookAtTransform","move","max","look","UNIT_Z","rotateLeft","rotateUp","updateAngleAndOpacity","compassWidth","atan2","zeroToTwoPi","easedOpacity","viewCenter","rotateInitialCameraAngle","angleDifference","newCameraAngle","currentCameraAngle","rotateRight","CesiumEvent","Event","CesiumNavigation","viewerCesiumWidget","initialize","_onDestroyListeners","distanceLegendViewModel","navigationViewModel","navigationDiv","distanceLegendDiv","_navigationLocked","getNavigationLocked","parentNode","removeChild","addOnDestroyListener","callback","cesiumWidget","className","beforeWidgetChanged","setAttribute","mapElement"],"mappings":"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"}